{"hash":"7a4543962a9c9fdc79942c2ec9ee69f3625333b8","data":{"post":{"title":"jQuery UI Date Picker control issue with .Net","path":"/j-query-ui-date-picker-control-issue-with-net/","date":"11. June 2008","timeToRead":5,"tags":[{"id":"DotNet","title":"DotNet","path":"/tag/DotNet/"},{"id":"JavaScript","title":"JavaScript","path":"/tag/JavaScript/"}],"description":"Aye, I do whitter on about jQuery. It's ace. The newly released jQuery UI is pretty special too. One of the many great widgets is the Date Picker control.","content":"<p>Aye, I do whitter on about <a href=\"https://jquery.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">jQuery</a>. It's ace. The newly released <a href=\"https://jqueryui.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">jQuery UI</a> is pretty special too. One of the many great widgets is the Date Picker control.</p>\n<p>I build many .net applications that require date entry, so I implement the Date Picker control often. Unfortunately, there is a problem when it is used on a field that is validated using a .Net validation control. Upon clicking on a date, I get the following error:</p>\n<pre class=\"language-text\"><code class=\"language-text\">length is null or not an object</code></pre>\n<p>This only occurs when using Internet Explorer. Currently, my only solution is to edit the source code. Locate the following code in <strong>jquery-ui.js</strong> or <strong>ui.datepicker.js</strong>:</p>\n<pre class=\"language-text\"><code class=\"language-text\">inst.input.trigger(&#39;change&#39;)</code></pre>\n<p>Replace it with:</p>\n<pre class=\"language-text\"><code class=\"language-text\">if (!$.browser.msie){inst.input.trigger(&#39;change&#39;)}</code></pre>\n<p>This prevents the change event firing in IE.</p>\n<p>I wouldn't normally advocate changing source code in this manner, as it makes future upgrades tedious. Hopefully it will be addressed in a future release.</p>\n<h2 id=\"24-thoughts-on-jquery-ui-date-picker-control-issue-with-net\"><a href=\"#24-thoughts-on-jquery-ui-date-picker-control-issue-with-net\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>24 thoughts on “jQuery UI Date Picker control issue with .Net”</h2>\n<h3 id=\"pawan-kumar\"><a href=\"#pawan-kumar\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>pawan Kumar</h3>\n<p><em>August 12, 2008 at 5:34 pm</em></p>\n<p>Thanks Andrew, your code snipped helped me alot. I was heading nowhere but you really solved the problem..thanks again..:)</p>\n<hr>\n<h3 id=\"ali-from-istanbul\"><a href=\"#ali-from-istanbul\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ali from Istanbul</h3>\n<p><em>October 26, 2008 at 4:11 pm</em></p>\n<p>Thanks for the solution. You saved my night.</p>\n<hr>\n<h3 id=\"robin\"><a href=\"#robin\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Robin</h3>\n<p><em>November 26, 2008 at 6:52 am</em></p>\n<p>This issue was a real deal breaker for my project, thanks for this you are my Batman.</p>\n<hr>\n<h3 id=\"anil-chitatil\"><a href=\"#anil-chitatil\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Anil Chitatil</h3>\n<p><em>June 3, 2009 at 4:14 pm</em></p>\n<p>wow fine and Nice article, You help me alot. Thanx for this article</p>\n<hr>\n<h3 id=\"nalin-djayasuriya\"><a href=\"#nalin-djayasuriya\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nalin D.Jayasuriya</h3>\n<p><em>June 24, 2009 at 5:19 pm</em></p>\n<p>In version 1.7.2 of Datepicker, the text to search and replace is different:</p>\n<p>The new text to search for is:</p>\n<pre class=\"language-text\"><code class=\"language-text\">inst.input.trigger(“change”)</code></pre>\n<p>Thanks for your solution!</p>\n<hr>\n<h3 id=\"andy\"><a href=\"#andy\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Andy</h3>\n<p><em>June 24, 2009 at 6:29 pm</em></p>\n<p>I’ve updated the article. Thanks for taking the time to let me know.</p>\n<hr>\n<h3 id=\"achutha-krishnan\"><a href=\"#achutha-krishnan\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Achutha Krishnan</h3>\n<p><em>July 2, 2009 at 7:47 am</em></p>\n<p>Thanks buddy, it was really a good solution. But what is the cause of the error? I used it and got this error only on a particular scenario. If you are familiar with ASP.NET, I got this error while using RequiredFieldValidator control. When I modified the script, it didn’t appear again?</p>\n<hr>\n<h3 id=\"andy-1\"><a href=\"#andy-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Andy</h3>\n<p><em>July 2, 2009 at 7:56 am</em></p>\n<p>Indeed the error ocurred when I used the RequiredFieldValidator control as well. I can’t remember why though, as it was some time ago.</p>\n<p>I’m a fairly pragamatic developer, and so I don’t worry about these things once it’s fixed!</p>\n<hr>\n<h3 id=\"praveen-battula\"><a href=\"#praveen-battula\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Praveen Battula</h3>\n<p><em>September 16, 2009 at 7:01 am</em></p>\n<p>See solution for it here.\n<a href=\"http://praveenbattula.blogspot.com/2009/09/jquery-datepicker-problem-on-date.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://praveenbattula.blogspot.com/2009/09/jquery-datepicker-problem-on-date.html</a></p>\n<hr>\n<h3 id=\"praveen-battula-1\"><a href=\"#praveen-battula-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Praveen Battula</h3>\n<p><em>September 16, 2009 at 7:02 am</em></p>\n<p>I mean instead of changing the code of the JQuery javascript file, you can override it in your code in my solution.</p>\n<hr>\n<h3 id=\"jrummell\"><a href=\"#jrummell\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>jrummell</h3>\n<p><em>November 11, 2009 at 6:15 pm</em></p>\n<p>What if you have TextChanged event on the TextBox and need it fire when the date is selected? Disabling .change() for IE means that the postback won’t happen and the TextChanged handler won’t execute.</p>\n<hr>\n<h3 id=\"euan-ritchie\"><a href=\"#euan-ritchie\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Euan Ritchie</h3>\n<p><em>December 30, 2009 at 8:43 am</em></p>\n<p>This problem is caused by jQuery raising a Change event on the Input control that is handled by the ASP Net Validation WebResource client code, in which the event object supplies the Datepickers ‘Done’ button as the srcElement.</p>\n<p>This causes the ASP Net function ValidatorOnChange (when in IE) to mis-identify the element on which the Change event is raised and creates a null reference error due to it not gracefully handling a failure to connect the Datepickers ‘Done’ button to any Validator.</p>\n<p>My solution to this is to store a reference to the ValidatorOnChange function, override it with an empty function then bind the input controls onchange event to a call to the stored reference.</p>\n<p>This removes the error, completes the onchange event (thus allowing the validators to perform their function), and permits the asp net webresource code to be changed in framework updates without breaking applications (I’m hoping).</p>\n<p>It should also be applicable to all plugins that experience similar issues, and not just DatePicker.</p>\n<p>This is an example of my method:</p>\n<pre class=\"language-text\"><code class=\"language-text\">// Execute on Document ready…\n$(function() {\n\n    // Correct for IE problem with ASP Net Validators\n    // Store reference to function with problem, and over-ride it with an empty function\n    WebResource_ValidatorOnChange = ValidatorOnChange;\n    ValidatorOnChange = function(event) { }\n\n    // Initialise date and time picker\n    $(‘#&lt;%= Control.ClientID %&gt;‘).datepicker({\n        configuration:options\n    });\n\n    // Bind call to Validation code to change event of Control\n    $(‘#&lt;%= Control.ClientID %&gt;‘).bind(“change”, function(event) {\n        WebResource_ValidatorOnChange(event);\n    });\n\n});</code></pre>\n<hr>\n<h3 id=\"euan-ritchie-1\"><a href=\"#euan-ritchie-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Euan Ritchie</h3>\n<p><em>December 30, 2009 at 8:45 am</em></p>\n<p>I ought point out that my solution obviously requires one to bind every control on the page that needs the onchange event for it’s validators.</p>\n<p>It also seems unneccesary if you can use the empty onselect function that is a suggested solution.</p>\n<p>But it turns out that if you use a CustomValidator that uses a server side handler for validation that the onselect function method fails, which is why I use my slightly convuluted technique to provide client side validation in concert with jquery hi datepicker.</p>\n<hr>\n<h3 id=\"muhammad-usman\"><a href=\"#muhammad-usman\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Muhammad Usman</h3>\n<p><em>January 28, 2010 at 4:16 am</em></p>\n<p>Great work sir.</p>\n<hr>\n<h3 id=\"zack-l\"><a href=\"#zack-l\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Zack L</h3>\n<p><em>January 28, 2010 at 4:17 am</em></p>\n<p>Trouble I have with this solution is that I’m using the Google CDN to deliver the jQuery js files to the client so I don’t have the option of modifying the file. The only solution was to get rid of the RequiredFieldValidator and stick with the CustomValidator I’m using to validate the date on the server side.</p>\n<hr>\n<h3 id=\"nitin\"><a href=\"#nitin\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nitin</h3>\n<p><em>April 10, 2010 at 4:11 am</em></p>\n<p>We can also work around this by setting client script to false for the validation control.</p>\n<hr>\n<h3 id=\"praveen-battula-2\"><a href=\"#praveen-battula-2\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Praveen Battula</h3>\n<p><em>April 10, 2010 at 4:11 am</em></p>\n<p>If the issue is because of the validator then here is the solution for it.\n<a href=\"http://praveenbattula.blogspot.com/2009/09/jquery-datepicker-problem-on-date.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://praveenbattula.blogspot.com/2009/09/jquery-datepicker-problem-on-date.html</a></p>\n<hr>\n<h3 id=\"kathy-wu\"><a href=\"#kathy-wu\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Kathy Wu</h3>\n<p><em>July 21, 2010 at 5:41 pm</em></p>\n<p>Thanks a lot, it resolved my error.</p>\n<hr>\n<h3 id=\"sandeep\"><a href=\"#sandeep\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>sandeep</h3>\n<p><em>January 3, 2011 at 1:00 pm</em></p>\n<p>Thank You very much Andrew</p>\n<hr>\n<h3 id=\"anonymous\"><a href=\"#anonymous\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Anonymous</h3>\n<p><em>May 31, 2011 at 10:06 am</em></p>\n<p>Thanks It really helpful buddy, Saved my lot of time of debugging.</p>\n<hr>\n<h3 id=\"mubeen\"><a href=\"#mubeen\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Mubeen</h3>\n<p><em>August 3, 2011 at 6:05 pm</em></p>\n<p>Andrew you saved me a lot of grief!</p>\n<hr>\n<h3 id=\"gangireddy-sathi\"><a href=\"#gangireddy-sathi\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Gangireddy Sathi</h3>\n<p><em>August 18, 2011 at 11:57 pm</em></p>\n<p>Thank you Andrew…</p>\n<hr>\n<h3 id=\"hollman-ladino-paredes\"><a href=\"#hollman-ladino-paredes\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Hollman Ladino Paredes</h3>\n<p><em>February 7, 2013 at 4:13 pm</em></p>\n<p>Hola Andrew.</p>\n<p>Tu solucion me di luz al final del camino. El cambio lo hice en el fuente jquery-ui-timepicker-addon.js linea (815), reemplac <code class=\"language-text\">this.$input.trigger(“change”);</code> por <code class=\"language-text\">if (!$.browser.msie) { this.$input.trigger(“change”); }</code></p>\n<p>Muchas gracias por tu aporte y muchos xitos.</p>\n<hr>\n<h3 id=\"andy-r\"><a href=\"#andy-r\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Andy R</h3>\n<p><em>February 7, 2013 at 4:32 pm</em></p>\n<p>No hay problema, mi amigo!</p>\n<hr>\n","cover_image":null}},"context":{}}