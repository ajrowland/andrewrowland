{"hash":"aa3c4e597275d3cb4f711f6ec84453153c385abb","data":{"tag":{"title":"JavaScript","belongsTo":{"edges":[{"node":{"title":"Create Episerver Find index using Puppeteer","path":"/create-episerver-find-index-using-puppeteer/","date":"18. February 2018","timeToRead":1,"description":"Currently working with many clients who utilise Episerver CMS to managed their content. Almost all of then use Episerver Find to index content.","content":"<p>Currently working with many clients who utilise Episerver CMS to managed their content. Almost all of then use <a href=\"https://find.episerver.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Episerver Find</a> to index content.</p>\n<p>Episerver do not provide an API to automate the creation of new indices. As I was messing around with <a href=\"https://github.com/puppeteer/puppeteer\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Puppeteer</a> and headless Chrome, I thought I‚Äôd knock up a tool to do this. You can find the code in my <a href=\"https://github.com/ajrowland/create-episerver-find-index\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Github repo</a>.</p>\n<p>Using your favourite shell, clone the repo:</p>\n<pre class=\"language-text\"><code class=\"language-text\">git clone https://github.com/ajrowland/create-episerver-find-index.git\ncd create-episerver-find-index</code></pre>\n<p>Install dependencies:</p>\n<pre class=\"language-text\"><code class=\"language-text\">npm install</code></pre>\n<p>You‚Äôll need to create a <a href=\"https://find.episerver.com/Account/Register\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">developer account for Find</a>. Once this is done, you can create an index with the following:</p>\n<pre class=\"language-text\"><code class=\"language-text\">node createindex.js --username [username] --password [password] --indexname [indexname]</code></pre>\n<p>The script returns the configuration for the newly created index, or an existing index if it already exists.</p>\n<p>Ultimately I hope to use something like this within a continuous integration, or deployment pipeline, to make certain a valid index is available for the application.</p>\n<p>Hope this helps someone.</p>\n"}},{"node":{"title":"TypeScript Sublime Text integration","path":"/type-script-sublime-text-integration/","date":"8. October 2012","timeToRead":2,"description":"Something interesting has happened in the world of JavaScript development. Of all people, the folk at Microsoft have developed TypeScript.","content":"<p>Something interesting has happened in the world of JavaScript development. Of all people, the folk at Microsoft have developed TypeScript. If you‚Äôre in to such things, I don‚Äôt need to explain further. There is a Visual Studio 2012 plugin, but these days I‚Äôve fallen in love with Sublime Text. Here‚Äôs a quick howto on TypeScript development with Sublime Text, specifically on Windows 7.</p>\n<p>First install theNode.jsmsi package. Once installed, open a command prompt and type the following to install the TypeScript compiler:</p>\n<pre class=\"language-text\"><code class=\"language-text\">npm install -g typescript</code></pre>\n<p>Now grab the Sublime Text syntax hightlight definition file from MSDN. Open the zip and copy the <em>typescript.tmplanguage</em> file to your Sublime Text user packages directory. Mine is located in:</p>\n<pre class=\"language-text\"><code class=\"language-text\">C:\\Users\\arowland\\AppData\\Roaming\\Sublime Text 2\\Packages\\User\\</code></pre>\n<p>Now open Sublime Text. Select <strong>Tools -> Build System -> New Build System</strong>. Paste in the following:</p>\n<pre class=\"language-text\"><code class=\"language-text\">{\n    &quot;selector&quot;: &quot;source.ts&quot;,\n    &quot;cmd&quot;: [&quot;tsc.cmd&quot;, &quot;$file&quot;],\n    &quot;file_regex&quot;: &quot;^(.+?) \\\\((\\\\d+),(\\\\d+)\\\\): (.+)$&quot;\n}</code></pre>\n<p>Save this file. Now you can create a new JavaScript file, and save with the .ts extension. The editor will highlight TypeScript code, and allow you to compile to JavaScript by pressing <strong>Ctrl+B</strong>. The build process will create the compiled JavaScript file in the same directory as the source TypeScript.</p>\n<h2 id=\"9-thoughts-on-typescript-sublime-text-integration\"><a href=\"#9-thoughts-on-typescript-sublime-text-integration\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>9 thoughts on ‚ÄúTypeScript Sublime Text integration‚Äù</h2>\n<h3 id=\"ryan-montgomery\"><a href=\"#ryan-montgomery\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ryan Montgomery</h3>\n<p><em>October 10, 2012 at 3:49 pm</em></p>\n<p>If you installed typescript via npm then this will work on mac osx.</p>\n<pre class=\"language-text\"><code class=\"language-text\">{\n    ‚Äúselector‚Äù: ‚Äúsource.ts‚Äù,\n    ‚Äúcmd‚Äù: [‚Äútsc‚Äù, ‚Äú$file‚Äù],\n    ‚Äúpath‚Äù: ‚Äú/usr/local/bin‚Äù,\n    ‚Äúfile_regex‚Äù: ‚Äú^(.+?) \\\\((\\\\d+),(\\\\d+)\\\\): (.+)$‚Äù\n}</code></pre>\n<hr>\n<h3 id=\"nigel-ainscoe\"><a href=\"#nigel-ainscoe\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nigel Ainscoe</h3>\n<p><em>October 10, 2012 at 8:18 pm</em></p>\n<p>Thanks for this, I had to ditch the .cmd in line 3 of the build system so it reads:</p>\n<pre class=\"language-text\"><code class=\"language-text\">‚Äúcmd‚Äù: [‚Äútsc‚Äù, ‚Äú$file‚Äù],</code></pre>\n<p>But being my first time adding to my Sublime2 installation, it was infinitely better than no instructions and I now have beautifully highlighted typescript üôÇ</p>\n<hr>\n<h3 id=\"andy-r\"><a href=\"#andy-r\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Andy R</h3>\n<p><em>October 10, 2012 at 9:46 pm</em></p>\n<p>Hi Nigel. That‚Äôs what I had initially but had to alter it to get it to build. I‚Äôm just glad you‚Äôve got it working.</p>\n<hr>\n<h3 id=\"simo-endre\"><a href=\"#simo-endre\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Simo Endre</h3>\n<p><em>October 11, 2012 at 7:30 am</em></p>\n<p>This is a great future to have on Sublime Text editor, only the auto-completion is missing completely, which pretty shame. To automatize even more the ts=>js process you can install a little build package. I‚Äôve explained here: <a href=\"http://stackoverflow.com/questions/12799237/how-to-watch-and-compile-all-typescript-sources/12800090#12800090\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://stackoverflow.com/questions/12799237/how-to-watch-and-compile-all-typescript-sources/12800090#12800090</a></p>\n<hr>\n<h3 id=\"larry\"><a href=\"#larry\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Larry</h3>\n<p><em>October 11, 2012 at 4:03 pm</em></p>\n<p>The build script is working (Windows), but I‚Äôm not seeing any output in the build results when the compilation fails. Any idea why?</p>\n<hr>\n<h3 id=\"eran-medan\"><a href=\"#eran-medan\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Eran Medan</h3>\n<p><em>November 17, 2012 at 3:11 am</em></p>\n<p>I‚Äôve created a small package that includes the build system + the syntax highlighter\nWould you please review this: <a href=\"https://github.com/eranation/sublime-text-2-typescript\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/eranation/sublime-text-2-typescript</a>\nHope I did it right... feel free to modify</p>\n<hr>\n<h3 id=\"adongo\"><a href=\"#adongo\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Adongo</h3>\n<p><em>June 6, 2016 at 10:33 pm</em></p>\n<pre class=\"language-text\"><code class=\"language-text\">{\n    ‚Äúcmd‚Äù: [‚Äútsc‚Äù,‚Äù$file‚Äù],\n    ‚Äúfile_regex‚Äù: ‚Äú(.*\\\\.ts?)\\\\s\\\\(([0-9]+)\\\\,([0-9]+)\\\\)\\\\:\\\\s(‚Ä¶*?)$‚Äù,\n    ‚Äúselector‚Äù: ‚Äúsource.ts‚Äù,\n    ‚Äúwindows‚Äù: {\n        ‚Äúcmd‚Äù: [‚Äútsc.cmd‚Äù, ‚Äú$file‚Äù]\n    }\n}</code></pre>\n<hr>\n<h3 id=\"adongo-1\"><a href=\"#adongo-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Adongo</h3>\n<p><em>June 6, 2016 at 10:34 pm</em></p>\n<p>This worked for me perfectly</p>\n<hr>\n<h3 id=\"romes\"><a href=\"#romes\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Romes</h3>\n<p><em>October 25, 2017 at 6:03 pm</em></p>\n<p>Tanks my friend !</p>\n<hr>\n"}},{"node":{"title":"jQuery UI Date Picker control issue with .Net","path":"/j-query-ui-date-picker-control-issue-with-net/","date":"11. June 2008","timeToRead":5,"description":"Aye, I do whitter on about jQuery. It's ace. The newly released jQuery UI is pretty special too. One of the many great widgets is the Date Picker control.","content":"<p>Aye, I do whitter on about <a href=\"https://jquery.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">jQuery</a>. It's ace. The newly released <a href=\"https://jqueryui.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">jQuery UI</a> is pretty special too. One of the many great widgets is the Date Picker control.</p>\n<p>I build many .net applications that require date entry, so I implement the Date Picker control often. Unfortunately, there is a problem when it is used on a field that is validated using a .Net validation control. Upon clicking on a date, I get the following error:</p>\n<pre class=\"language-text\"><code class=\"language-text\">length is null or not an object</code></pre>\n<p>This only occurs when using Internet Explorer. Currently, my only solution is to edit the source code. Locate the following code in <strong>jquery-ui.js</strong> or <strong>ui.datepicker.js</strong>:</p>\n<pre class=\"language-text\"><code class=\"language-text\">inst.input.trigger(&#39;change&#39;)</code></pre>\n<p>Replace it with:</p>\n<pre class=\"language-text\"><code class=\"language-text\">if (!$.browser.msie){inst.input.trigger(&#39;change&#39;)}</code></pre>\n<p>This prevents the change event firing in IE.</p>\n<p>I wouldn't normally advocate changing source code in this manner, as it makes future upgrades tedious. Hopefully it will be addressed in a future release.</p>\n<h2 id=\"24-thoughts-on-jquery-ui-date-picker-control-issue-with-net\"><a href=\"#24-thoughts-on-jquery-ui-date-picker-control-issue-with-net\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>24 thoughts on ‚ÄújQuery UI Date Picker control issue with .Net‚Äù</h2>\n<h3 id=\"pawan-kumar\"><a href=\"#pawan-kumar\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>pawan Kumar</h3>\n<p><em>August 12, 2008 at 5:34 pm</em></p>\n<p>Thanks Andrew, your code snipped helped me alot. I was heading nowhere but you really solved the problem..thanks again..:)</p>\n<hr>\n<h3 id=\"ali-from-istanbul\"><a href=\"#ali-from-istanbul\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Ali from Istanbul</h3>\n<p><em>October 26, 2008 at 4:11 pm</em></p>\n<p>Thanks for the solution. You saved my night.</p>\n<hr>\n<h3 id=\"robin\"><a href=\"#robin\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Robin</h3>\n<p><em>November 26, 2008 at 6:52 am</em></p>\n<p>This issue was a real deal breaker for my project, thanks for this you are my Batman.</p>\n<hr>\n<h3 id=\"anil-chitatil\"><a href=\"#anil-chitatil\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Anil Chitatil</h3>\n<p><em>June 3, 2009 at 4:14 pm</em></p>\n<p>wow fine and Nice article, You help me alot. Thanx for this article</p>\n<hr>\n<h3 id=\"nalin-djayasuriya\"><a href=\"#nalin-djayasuriya\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nalin D.Jayasuriya</h3>\n<p><em>June 24, 2009 at 5:19 pm</em></p>\n<p>In version 1.7.2 of Datepicker, the text to search and replace is different:</p>\n<p>The new text to search for is:</p>\n<pre class=\"language-text\"><code class=\"language-text\">inst.input.trigger(‚Äúchange‚Äù)</code></pre>\n<p>Thanks for your solution!</p>\n<hr>\n<h3 id=\"andy\"><a href=\"#andy\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Andy</h3>\n<p><em>June 24, 2009 at 6:29 pm</em></p>\n<p>I‚Äôve updated the article. Thanks for taking the time to let me know.</p>\n<hr>\n<h3 id=\"achutha-krishnan\"><a href=\"#achutha-krishnan\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Achutha Krishnan</h3>\n<p><em>July 2, 2009 at 7:47 am</em></p>\n<p>Thanks buddy, it was really a good solution. But what is the cause of the error? I used it and got this error only on a particular scenario. If you are familiar with ASP.NET, I got this error while using RequiredFieldValidator control. When I modified the script, it didn‚Äôt appear again?</p>\n<hr>\n<h3 id=\"andy-1\"><a href=\"#andy-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Andy</h3>\n<p><em>July 2, 2009 at 7:56 am</em></p>\n<p>Indeed the error ocurred when I used the RequiredFieldValidator control as well. I can‚Äôt remember why though, as it was some time ago.</p>\n<p>I‚Äôm a fairly pragamatic developer, and so I don‚Äôt worry about these things once it‚Äôs fixed!</p>\n<hr>\n<h3 id=\"praveen-battula\"><a href=\"#praveen-battula\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Praveen Battula</h3>\n<p><em>September 16, 2009 at 7:01 am</em></p>\n<p>See solution for it here.\n<a href=\"http://praveenbattula.blogspot.com/2009/09/jquery-datepicker-problem-on-date.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://praveenbattula.blogspot.com/2009/09/jquery-datepicker-problem-on-date.html</a></p>\n<hr>\n<h3 id=\"praveen-battula-1\"><a href=\"#praveen-battula-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Praveen Battula</h3>\n<p><em>September 16, 2009 at 7:02 am</em></p>\n<p>I mean instead of changing the code of the JQuery javascript file, you can override it in your code in my solution.</p>\n<hr>\n<h3 id=\"jrummell\"><a href=\"#jrummell\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>jrummell</h3>\n<p><em>November 11, 2009 at 6:15 pm</em></p>\n<p>What if you have TextChanged event on the TextBox and need it fire when the date is selected? Disabling .change() for IE means that the postback won‚Äôt happen and the TextChanged handler won‚Äôt execute.</p>\n<hr>\n<h3 id=\"euan-ritchie\"><a href=\"#euan-ritchie\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Euan Ritchie</h3>\n<p><em>December 30, 2009 at 8:43 am</em></p>\n<p>This problem is caused by jQuery raising a Change event on the Input control that is handled by the ASP Net Validation WebResource client code, in which the event object supplies the Datepickers ‚ÄòDone‚Äô button as the srcElement.</p>\n<p>This causes the ASP Net function ValidatorOnChange (when in IE) to mis-identify the element on which the Change event is raised and creates a null reference error due to it not gracefully handling a failure to connect the Datepickers ‚ÄòDone‚Äô button to any Validator.</p>\n<p>My solution to this is to store a reference to the ValidatorOnChange function, override it with an empty function then bind the input controls onchange event to a call to the stored reference.</p>\n<p>This removes the error, completes the onchange event (thus allowing the validators to perform their function), and permits the asp net webresource code to be changed in framework updates without breaking applications (I‚Äôm hoping).</p>\n<p>It should also be applicable to all plugins that experience similar issues, and not just DatePicker.</p>\n<p>This is an example of my method:</p>\n<pre class=\"language-text\"><code class=\"language-text\">// Execute on Document ready‚Ä¶\n$(function() {\n\n    // Correct for IE problem with ASP Net Validators\n    // Store reference to function with problem, and over-ride it with an empty function\n    WebResource_ValidatorOnChange = ValidatorOnChange;\n    ValidatorOnChange = function(event) { }\n\n    // Initialise date and time picker\n    $(‚Äò#&lt;%= Control.ClientID %&gt;‚Äò).datepicker({\n        configuration:options\n    });\n\n    // Bind call to Validation code to change event of Control\n    $(‚Äò#&lt;%= Control.ClientID %&gt;‚Äò).bind(‚Äúchange‚Äù, function(event) {\n        WebResource_ValidatorOnChange(event);\n    });\n\n});</code></pre>\n<hr>\n<h3 id=\"euan-ritchie-1\"><a href=\"#euan-ritchie-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Euan Ritchie</h3>\n<p><em>December 30, 2009 at 8:45 am</em></p>\n<p>I ought point out that my solution obviously requires one to bind every control on the page that needs the onchange event for it‚Äôs validators.</p>\n<p>It also seems unneccesary if you can use the empty onselect function that is a suggested solution.</p>\n<p>But it turns out that if you use a CustomValidator that uses a server side handler for validation that the onselect function method fails, which is why I use my slightly convuluted technique to provide client side validation in concert with jquery hi datepicker.</p>\n<hr>\n<h3 id=\"muhammad-usman\"><a href=\"#muhammad-usman\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Muhammad Usman</h3>\n<p><em>January 28, 2010 at 4:16 am</em></p>\n<p>Great work sir.</p>\n<hr>\n<h3 id=\"zack-l\"><a href=\"#zack-l\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Zack L</h3>\n<p><em>January 28, 2010 at 4:17 am</em></p>\n<p>Trouble I have with this solution is that I‚Äôm using the Google CDN to deliver the jQuery js files to the client so I don‚Äôt have the option of modifying the file. The only solution was to get rid of the RequiredFieldValidator and stick with the CustomValidator I‚Äôm using to validate the date on the server side.</p>\n<hr>\n<h3 id=\"nitin\"><a href=\"#nitin\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nitin</h3>\n<p><em>April 10, 2010 at 4:11 am</em></p>\n<p>We can also work around this by setting client script to false for the validation control.</p>\n<hr>\n<h3 id=\"praveen-battula-2\"><a href=\"#praveen-battula-2\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Praveen Battula</h3>\n<p><em>April 10, 2010 at 4:11 am</em></p>\n<p>If the issue is because of the validator then here is the solution for it.\n<a href=\"http://praveenbattula.blogspot.com/2009/09/jquery-datepicker-problem-on-date.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://praveenbattula.blogspot.com/2009/09/jquery-datepicker-problem-on-date.html</a></p>\n<hr>\n<h3 id=\"kathy-wu\"><a href=\"#kathy-wu\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Kathy Wu</h3>\n<p><em>July 21, 2010 at 5:41 pm</em></p>\n<p>Thanks a lot, it resolved my error.</p>\n<hr>\n<h3 id=\"sandeep\"><a href=\"#sandeep\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>sandeep</h3>\n<p><em>January 3, 2011 at 1:00 pm</em></p>\n<p>Thank You very much Andrew</p>\n<hr>\n<h3 id=\"anonymous\"><a href=\"#anonymous\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Anonymous</h3>\n<p><em>May 31, 2011 at 10:06 am</em></p>\n<p>Thanks It really helpful buddy, Saved my lot of time of debugging.</p>\n<hr>\n<h3 id=\"mubeen\"><a href=\"#mubeen\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Mubeen</h3>\n<p><em>August 3, 2011 at 6:05 pm</em></p>\n<p>Andrew you saved me a lot of grief!</p>\n<hr>\n<h3 id=\"gangireddy-sathi\"><a href=\"#gangireddy-sathi\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Gangireddy Sathi</h3>\n<p><em>August 18, 2011 at 11:57 pm</em></p>\n<p>Thank you Andrew‚Ä¶</p>\n<hr>\n<h3 id=\"hollman-ladino-paredes\"><a href=\"#hollman-ladino-paredes\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Hollman Ladino Paredes</h3>\n<p><em>February 7, 2013 at 4:13 pm</em></p>\n<p>Hola Andrew.</p>\n<p>Tu solucion me di luz al final del camino. El cambio lo hice en el fuente jquery-ui-timepicker-addon.js linea (815), reemplac <code class=\"language-text\">this.$input.trigger(‚Äúchange‚Äù);</code> por <code class=\"language-text\">if (!$.browser.msie) { this.$input.trigger(‚Äúchange‚Äù); }</code></p>\n<p>Muchas gracias por tu aporte y muchos xitos.</p>\n<hr>\n<h3 id=\"andy-r\"><a href=\"#andy-r\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Andy R</h3>\n<p><em>February 7, 2013 at 4:32 pm</em></p>\n<p>No hay problema, mi amigo!</p>\n<hr>\n"}},{"node":{"title":"Using jQuery selectors to reference .Net controls","path":"/using-j-query-selectors-to-reference-net-controls/","date":"4. June 2008","timeToRead":1,"description":"","content":"<p>You place a control onto your page:</p>\n<pre class=\"language-text\"><code class=\"language-text\">&lt;asp:Content ID=&quot;Content1&quot; ContentPlaceHolderID=&quot;Content&quot; Runat=&quot;Server&quot;&gt;\n    &lt;asp:TextBox Id=&quot;Firstname&quot; Runat=&quot;Server&quot; /&gt;\n&lt;/asp:Content&gt;</code></pre>\n<p>The output is rendered as:</p>\n<pre class=\"language-text\"><code class=\"language-text\">&lt;input name=&quot;ctl00$Content$FirstName&quot; type=&quot;text&quot; id=&quot;ctl00_Content_FirstName&quot; /&gt;</code></pre>\n<p>In the example above, the disparity in the rendered id attribute occurs because the TextBox control has been placed within a Content control, as the Page object inherits a MasterPage.</p>\n<p>So how can you robustly reference the control using client-side JavaScript, regardless where the control resides?√Ç  Using jQuery it's fairly trivial:</p>\n<pre class=\"language-text\"><code class=\"language-text\">var $firstname = $(&quot;[id$=FirstName]&quot;);</code></pre>\n<p>This little snippet makes use of the jQuery attributeEndsWith selector, as documented <a href=\"https://jquery.com/#attributevalue\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a>.√Ç  Bare in mind that an array is returned, as any control with an id that ends in FirstName will be selected.</p>\n<h2 id=\"one-thought-on-using-jquery-selectors-to-reference-net-controls\"><a href=\"#one-thought-on-using-jquery-selectors-to-reference-net-controls\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>One thought on ‚ÄúUsing jQuery selectors to reference .Net controls‚Äù</h2>\n<h3 id=\"adam\"><a href=\"#adam\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Adam</h3>\n<p><em>January 3, 2011 at 1:06 pm</em></p>\n<p>Use could use inline tags to place the ClientID.</p>\n<pre class=\"language-text\"><code class=\"language-text\">var $firstname = $[‚Äú#&lt;%= Firstname.ClientID %&gt;‚Äù]);</code></pre>\n<p>This would insert the ClientID into your javascript code block and help find the control on the page.</p>\n<hr>\n"}},{"node":{"title":"JavaScript event delegation","path":"/java-script-event-delegation/","date":"18. May 2008","timeToRead":2,"description":"As I've mentioned previously I'm creating a dashboard to represent the components in the exchange that I work for. Each component widget on the page has a number of events associated with it. This has become less manageable, the more I add. So I thought about using one delegate to handle all events, and pass on a component reference, and parameters to other functions.","content":"<p>A quick google led me to <a href=\"https://blog.danwebb.net/2008/2/8/event-delegation-made-easy-in-jquery\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">this article</a> by <a href=\"https://blog.danwebb.net/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Dan Webb</a>. Looks like a common technique. Very useful article, though I needed to be able to pass parameters to the functions. There may be a better to way to do this, but this is how I achieved it.</p>\n<p>Using jQuery (what else?!) the delegate method is called via an onClick event on the body of the document. In this case, it checks that the target of the event is a button. If any other element is clicked, nothing will happen.</p>\n<p>Using jQuery (what else?!) the delegate method is called via an onClick event on the body of the document. In this case, it checks that the target of the event is a button. If any other element is clicked, nothing will happen.</p>\n<pre class=\"language-text\"><code class=\"language-text\">$(document).ready(function(){\n    $(&#39;body&#39;).click(function(e){\n        if (e.target.type == &#39;submit&#39; || e.target.type == &#39;button&#39;){\n            var t = $(e.target);\n            var fn = t.attr(&#39;class&#39;);\n            var p = eval(&#39;(&#39; + t.find(&#39;.params&#39;).html() + &#39;)&#39;);\n\n            window[fn].call(this, t, p);\n        }\n    });\n});</code></pre>\n<p>The function that the delegate passes the parameters to, is decided by the class name of the button. You could also use this class name to style the button in any manner you wish. The parameters to pass to this function are evaluated from JSON that is stored within hidden span class called params. Example button markup:</p>\n<pre class=\"language-text\"><code class=\"language-text\">&lt;button class=&quot;changeLabel&quot;&gt;\n    &lt;span class=&quot;params&quot;&gt;\n        {message:&quot;Button pressed&quot;}\n    &lt;/span&gt;\n    &lt;span class=&quot;label&quot;&gt;\n        Press me\n    &lt;/span&gt;\n&lt;/button&gt;</code></pre>\n<p>I've surrounded the button label text within another span class called label. This enables me to change the label text without losing the parameters. Simple CSS is used to hide the parameter span tag:</p>\n<pre class=\"language-text\"><code class=\"language-text\">.params {\n    display: none;\n}</code></pre>\n<p>The way I've stored the parameters may be a little odd, and I feel I may be missing something here. I construct my dashboard dynamically using jQuery, so all the parameters are injected into each control buttons at runtime. If anyone can point out an easier solution feel free to share. Full example:</p>\n<pre class=\"language-text\"><code class=\"language-text\">&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Delegate example&lt;/title&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/path/to/jquery.js&quot;&gt;&lt;/script&gt;\n    &lt;script type=&quot;text/javascript&quot;&gt;\n    $(document).ready(function(){\n        $(&#39;body&#39;).click(function(e){\n            if (e.target.type == &#39;submit&#39; || e.target.type == &#39;button&#39;){\n                var t = $(e.target);\n                var fn = t.attr(&#39;class&#39;);\n                var p = eval(&#39;(&#39; + t.find(&#39;.params&#39;).html() + &#39;)&#39;);\n\n                window[fn].call(this, t, p);\n            }\n        });\n    });\n\n    function changeLabel(obj, params){\n        obj.find(&#39;.label&#39;).text(params.message);\n    }\n    &lt;/script&gt;\n    &lt;style type=&quot;text/css&quot;&gt;\n    .params {\n        display: none;\n    }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;button class=&quot;changeLabel&quot;&gt;\n    &lt;span class=&quot;params&quot;&gt;\n        {message:&quot;Button pressed&quot;}\n    &lt;/span&gt;\n    &lt;span class=&quot;label&quot;&gt;\n        Press me\n    &lt;/span&gt;\n&lt;/button&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n<h2 id=\"one-thought-on-javascript-event-delegation\"><a href=\"#one-thought-on-javascript-event-delegation\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>One thought on ‚ÄúJavaScript event delegation‚Äù</h2>\n<h3 id=\"geralynn\"><a href=\"#geralynn\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Geralynn</h3>\n<p><em>April 28, 2011 at 5:49 am</em></p>\n<p>Walking in the presence of giants here. Cool thinking all arnuod!</p>\n<hr>\n"}},{"node":{"title":"Consume .Net Web service using jQuery","path":"/consume-net-web-service-using-j-query/","date":"29. April 2008","timeToRead":7,"description":"The JavaScript functionality that is injected into .Net pages seems limited when compared to jQuery.\nWhilst looking for a way to use jQuery instead of the stock Microsoft client library, I came across an excellent article.","content":"<p>The JavaScript functionality that is injected into .Net pages seems limited when compared to jQuery.</p>\n<p>Whilst looking for a way to use jQuery instead of the stock Microsoft client library, I came across this <a href=\"http://encosia.com/2008/03/27/using-jquery-to-consume-aspnet-json-web-services/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">excellent article</a>.</p>\n<p>There doesn 't seem to be too much on Web about this subject. Maybe most .Net developers stick to Microsoft tools, but I like using jQuery for all my client scripting, and would rather not use more than one library. So as it look me a while to get example code working, I 've included my efforts.</p>\n<p>Below is a simple .Net Web service. Once again, I 've used continents and countries as my simple dataset. Pass a continent to the service, and it will return an array of countries.</p>\n<pre class=\"language-text\"><code class=\"language-text\">&lt;%@ webservice Language=&quot;C#&quot; class=&quot;AndrewRowland.Continents&quot; %&gt;\n\nusing System;\nusing System.Web.Script.Services;\nusing System.Web.Services;\nusing System.Collections;\nusing System.Collections.Specialized;\n\nnamespace AndrewRowland\n{\n    [ScriptService]\n    [WebService(Namespace = &quot;AndrewRowland&quot;)]\n    [WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]\n    public class Continents\n    {\n        [WebMethod(Description=&quot;Returns array of countries for a given continent.&quot;)]\n        [ScriptMethod(ResponseFormat = ResponseFormat.Json)]\n        public string[] GetCountries(string continent)\n        {\n            Hashtable ht = new Hashtable();\n\n            ht.Add(&quot;Europe&quot;, new string[] {&quot;UK&quot;, &quot;France&quot;, &quot;Germany&quot;});\n            ht.Add(&quot;Africa&quot;, new string[] {&quot;South Africa&quot;, &quot;Zimbabwe&quot;, &quot;Cameroon&quot;});\n            ht.Add(&quot;North America&quot;, new string[] {&quot;USA&quot;, &quot;Canada&quot;});\n\n            return (string[]) ht[continent];\n        }\n    }\n}</code></pre>\n<p>Note the response format, which is JSON. Originally, I omitted this, and serialized the data as a JSON string using the .Net JavaScriptSerializer class, before returning it.</p>\n<p>This resulted in the client having to evaluate the returned string to build an array. By returning an array, the JSON object is instantly available in our client code, without any jiggery-pokery.</p>\n<p>To enable the client to call the Web service, I had to add following in my web.config file under the system.web section:</p>\n<pre class=\"language-text\"><code class=\"language-text\">&lt;webServices&gt;\n    &lt;protocols&gt;\n        &lt;add name=&quot;HttpPost&quot;/&gt;\n    &lt;/protocols&gt;\n&lt;/webServices&gt;</code></pre>\n<p>Sample client code that calls the .Net Web service:</p>\n<pre class=\"language-text\"><code class=\"language-text\">&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;World example&lt;/title&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/path/to/jquery.js&quot;&gt;&lt;/script&gt;\n    &lt;script type=&quot;text/javascript&quot;&gt;\n    $(document).ready(function() {\n        $(&#39;#submit&#39;).click(function() {\n            $.ajax({\n                type: &quot;POST&quot;,\n                data: &#39;{continent: &quot;&#39; + $(&#39;#txtContinent&#39;).val() + &#39;&quot;}&#39;,\n                url: &quot;/services/example.asmx/GetCountries&quot;,\n                contentType: &quot;application/json; charset=utf-8&quot;,\n                dataType: &quot;json&quot;,\n                success: function(response) {\n                    var data = (typeof response.d) == &#39;string&#39; ? eval(&#39;(&#39; + response.d + &#39;)&#39;) : response.d;\n\n                    $(&#39;#result&#39;).empty().append(&#39;&lt;table border=1&gt;&lt;thead&gt;&lt;tr&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;/tbody&gt;&lt;/table&gt;&#39;);\n\n                    $(&#39;&lt;th/&gt;&#39;).text($(&#39;#txtContinent&#39;).val()).appendTo(&#39;#result thead tr&#39;);\n\n                    for (var i = 0; i &lt; data.length; i ++) {\n                        $(&#39;&lt;tr/&gt;&#39;).append($(&#39;&lt;td/&gt;&#39;).text(data[i])).appendTo(&#39;#result tbody&#39;);\n                    }\n                },\n                failure: function(msg) {\n                    $(&#39;#result&#39;).empty().append(msg);\n                }\n            });\n        });\n    });\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;p&gt;&lt;label for=&quot;txtContinent&quot;&gt;Continent&lt;/label&gt;&lt;br /&gt;\n&lt;input type=&quot;text&quot; id=&quot;txtContinent&quot; /&gt; &lt;input id=&quot;submit&quot; type=&quot;button&quot; value=&quot;Submit&quot; /&gt;&lt;/p&gt;\n\n&lt;div id=&quot;result&quot;&gt;&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n<p>Note line 15:</p>\n<pre class=\"language-text\"><code class=\"language-text\">var data = (typeof response) == &#39;string&#39; ? eval(&#39;(&#39; + response + &#39;)&#39;) : response;</code></pre>\n<p>I added this line so that the data object is correctly evaluated if a serialized JSON string is returned.</p>\n<p>There you have it, avoid the Microsoft code bloat, with not a ScriptManager tag in sight.</p>\n<h2 id=\"25-thoughts-on-consume-net-web-service-using-jquery\"><a href=\"#25-thoughts-on-consume-net-web-service-using-jquery\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>25 thoughts on ‚ÄúConsume .Net Web service using jQuery‚Äù</h2>\n<h3 id=\"andy\"><a href=\"#andy\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Andy</h3>\n<p><em>August 12, 2008 at 5:34 pm</em></p>\n<p>If you look at line 10 in the HTML example above, the data key of the AJAX request contains a serialised JSON object. I‚Äôve manually serialised the parameters to be sent to the Web service. If your object is more complex, use a JSON stringifier.</p>\n<p>The example Web service I‚Äôve provided takes this very simple JSON object to obtain the parameter continent. It then returns a list of countries.</p>\n<p>Hope this helps.</p>\n<hr>\n<h3 id=\"andy-1\"><a href=\"#andy-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Andy</h3>\n<p><em>August 12, 2008 at 5:34 pm</em></p>\n<p>Indeed, and it appears many people are heading in this direction. Thanks very much for posting the first comment.</p>\n<hr>\n<h3 id=\"govind\"><a href=\"#govind\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Govind</h3>\n<p><em>August 12, 2008 at 5:34 pm</em></p>\n<p>+1. Beautiful, I too love jquery and moved away from the scriptmanager/updatepanel/proxy stuff. It was way too clunky.</p>\n<hr>\n<h3 id=\"zbrong\"><a href=\"#zbrong\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>zbrong</h3>\n<p><em>August 12, 2008 at 5:34 pm</em></p>\n<p>good article, thanks</p>\n<p>would you show us how to post a json object to web service and how the service consume the json object, best is sample</p>\n<p>thanks</p>\n<hr>\n<h3 id=\"david\"><a href=\"#david\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>david</h3>\n<p><em>September 11, 2008 at 7:01 am</em></p>\n<p>Hello,</p>\n<p>I am using .net 2.0 with c# and I am stuggling to get any of these exemples working. Could you please send a .net zipped up proj or solutio please</p>\n<hr>\n<h3 id=\"paul\"><a href=\"#paul\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>paul</h3>\n<p><em>September 15, 2008 at 9:46 am</em></p>\n<p>I‚Äôm also using .net 2 with C# and would appreciate the revised solution. Thanks in advance.</p>\n<hr>\n<h3 id=\"andy-2\"><a href=\"#andy-2\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Andy</h3>\n<p><em>September 15, 2008 at 9:46 am</em></p>\n<p>Seems to be a fair amount of interest in this post. As you can see, I‚Äôm stuggling to find the time to update this blog more regularly.</p>\n<p>I‚Äôll try to come up with a basic site, and post it here some time this week. I don‚Äôt use Visual Studio, so I can‚Äôt create a project.</p>\n<p>Thanks gents.</p>\n<hr>\n<h3 id=\"andy-3\"><a href=\"#andy-3\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Andy</h3>\n<p><em>September 26, 2008 at 8:46 pm</em></p>\n<p>Sorry for the delay. I installed Visual Studio 2008 Express, and created this project.</p>\n<p>Hope this helps.</p>\n<hr>\n<h3 id=\"fawad-hassan\"><a href=\"#fawad-hassan\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Fawad Hassan</h3>\n<p><em>March 14, 2009 at 3:27 pm</em></p>\n<p>nice article!</p>\n<p>thanks</p>\n<p>Now I shall try it myself...</p>\n<hr>\n<h3 id=\"yoav\"><a href=\"#yoav\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Yoav</h3>\n<p><em>August 20, 2009 at 4:13 pm</em></p>\n<p>Hi there,</p>\n<p>if you‚Äôre interested in creating a more object oriented proxy for a webservice using jQuery check out my article on:</p>\n<p><a href=\"http://yoavniran.wordpress.com/2009/08/02/creating-a-webservice-proxy-with-jquery/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://yoavniran.wordpress.com/2009/08/02/creating-a-webservice-proxy-with-jquery/</a></p>\n<hr>\n<h3 id=\"andy-4\"><a href=\"#andy-4\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Andy</h3>\n<p><em>August 20, 2009 at 4:17 pm</em></p>\n<p>Good stuff Yoav. I‚Äôm sure your article will be useful to others as well.</p>\n<hr>\n<h3 id=\"dacoder\"><a href=\"#dacoder\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>DaCoder</h3>\n<p><em>November 2, 2009 at 4:32 pm</em></p>\n<p>HI</p>\n<p>I am trying to use FullCalendar to display events but I am having trouble trying to get the right json array returned.</p>\n<p>Heres my server side code</p>\n<pre class=\"language-text\"><code class=\"language-text\">public string[][] GetEventsForDate(string currentDate)\n{\n    Hashtable ht = new Hashtable();\n\n    string[][] jaggedArray1 =\n    {\n        new string[] {‚Äú1‚Ä≥,‚ÄùMeeting One‚Äù,‚Äù2009-10-30T08:15:00.000+10:00‚Ä≥,‚Äù2009-10-30T10:15:00.000+10:00‚Ä≥},\n        new string[] {‚Äú2‚Ä≥,‚ÄùMeeting Two‚Äù,‚Äù2009-10-30T12:15:00.000+10:00‚Ä≥,‚Äù2009-10-30T13:15:00.000+10:00‚Ä≥},\n        new string[] {‚Äú3‚Ä≥,‚ÄùMeeting Three‚Äù,‚Äù2009-10-30T02:15:00.000+10:00‚Ä≥,‚Äù2009-10-30T03:15:00.000+10:00‚Ä≥}\n    };\n\n    return jaggedArray1;\n}</code></pre>\n<p>Any ideas?</p>\n<hr>\n<h3 id=\"dacoder-1\"><a href=\"#dacoder-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>DaCoder</h3>\n<p><em>November 4, 2009 at 4:17 am</em></p>\n<p>Hi</p>\n<p>I was able to figure out a way to integrate the FullCalendar with ASP.Net, heres the link to a write up I did</p>\n<p><a href=\"http://www.101webdesigns.com/index.php/2009/11/03/jquery-calendar-in-asp-net/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://www.101webdesigns.com/index.php/2009/11/03/jquery-calendar-in-asp-net/</a></p>\n<p>Hope someone finds it useful</p>\n<hr>\n<h3 id=\"kenny-evitt\"><a href=\"#kenny-evitt\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Kenny Evitt</h3>\n<p><em>May 14, 2010 at 4:51 am</em></p>\n<p>Excellent example!</p>\n<hr>\n<h3 id=\"prabu\"><a href=\"#prabu\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Prabu</h3>\n<p><em>May 14, 2010 at 4:51 am</em></p>\n<p>Hi.</p>\n<p>I am wondering if this works from a static html page outside of the webservice project?</p>\n<hr>\n<h3 id=\"rupesh\"><a href=\"#rupesh\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Rupesh</h3>\n<p><em>May 14, 2010 at 4:56 am</em></p>\n<p>Hi am using Webservice as a different project and when i add a webreference of this in my project. then jquery call does not works. if the asmx file is in the same webapplication project then it works fine. Is there any way to cosume the webservice‚Äôs webmethod by puting the web reference of weservice.</p>\n<hr>\n<h3 id=\"andy-5\"><a href=\"#andy-5\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Andy</h3>\n<p><em>May 14, 2010 at 4:57 am</em></p>\n<p>No reason why not. In your AJAX call, you will have to use the full URL if the service is running on different domain. Other than that consideration, it should not be a problem.</p>\n<hr>\n<h3 id=\"jake\"><a href=\"#jake\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Jake</h3>\n<p><em>July 21, 2010 at 5:41 pm</em></p>\n<p>Here is an example of how to get FullCalendar working in VB.NET using a webservice. <a href=\"http://jake1164.blogspot.com/2010/06/jquery-fullcalendar-and-aspnet.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://jake1164.blogspot.com/2010/06/jquery-fullcalendar-and-aspnet.html</a></p>\n<hr>\n<h3 id=\"michael-mofokeng\"><a href=\"#michael-mofokeng\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Michael Mofokeng</h3>\n<p><em>September 2, 2010 at 8:19 am</em></p>\n<p>Hi There. I‚Äôve re-created the example as a project but its not working from my side. It‚Äôis doesn‚Äôt return a success or failed message either.</p>\n<hr>\n<h3 id=\"mickey\"><a href=\"#mickey\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Mickey</h3>\n<p><em>January 3, 2011 at 1:00 pm</em></p>\n<p>I have a simple example of how I call a webservice using jquery on my tumblr blog. <a href=\"http://mickeyelliott.tumblr.com/post/1581098755/using-jquery-to-call-a-webservice\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://mickeyelliott.tumblr.com/post/1581098755/using-jquery-to-call-a-webservice</a></p>\n<hr>\n<h3 id=\"bhargav\"><a href=\"#bhargav\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Bhargav</h3>\n<p><em>February 8, 2011 at 10:28 am</em></p>\n<p>Really Grt article, helped me a lot. Thank you very much.</p>\n<hr>\n<h3 id=\"vani\"><a href=\"#vani\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>vani</h3>\n<p><em>April 2, 2011 at 12:03 pm</em></p>\n<p>nice</p>\n<hr>\n<h3 id=\"nidhi\"><a href=\"#nidhi\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nidhi</h3>\n<p><em>April 19, 2011 at 7:18 pm</em></p>\n<p>Is it possible to retrieve the user‚Äôs identity (authentication) in the web method?</p>\n<p>I‚Äôm also wondering if user roles can be checked in web methods. If someone has some info or links, please share</p>\n<hr>\n<h3 id=\"rajesh143\"><a href=\"#rajesh143\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Rajesh143</h3>\n<p><em>September 6, 2011 at 1:11 pm</em></p>\n<p>Hi Andy , nice post it helped me.</p>\n<p>I created a static HTML page and dumped the html code above in that and my web service works fine, But im facing a problem in the response part i.e in the success\nmethod the response is <code class=\"language-text\">NULL</code>.</p>\n<p>Can you please address my problem ASAP.</p>\n<hr>\n<h3 id=\"ad-guru\"><a href=\"#ad-guru\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>ad guru</h3>\n<p><em>March 13, 2012 at 12:43 am</em></p>\n<p>Great help. Thank you.</p>\n<hr>\n"}},{"node":{"title":"CodeIgniter and Ajax","path":"/code-igniter-and-ajax/","date":"27. April 2008","timeToRead":4,"description":"I've been asked to create a dashboard for many devices across our network. To display real-time information on each component, I'm thinking of using Web services, and AJAX. Like most aspects of coding, using a framework to do all the heavy lifting, rather than developing your own, is a sensible approach.\nSo today I took a look at jQuery, a JavaScript framework. I have to admit, I'm pretty impressed. It did not take me long to come up with some example code, that degrades well when JavaScript is disabled in the browser.","content":"<p>I've been asked to create a dashboard for many devices across our network. To display real-time information on each component, I'm thinking of using Web services, and AJAX. Like most aspects of coding, using a framework to do all the heavy lifting, rather than developing your own, is a sensible approach.</p>\n<p>So today I took a look at jQuery, a JavaScript framework. I have to admit, I'm pretty impressed. It did not take me long to come up with some example code, that degrades well when JavaScript is disabled in the browser.</p>\n<p>My example app lists continents. Clicking on a continent will return a list of countries in that continent.</p>\n<p>Create a CodeIgniter controller and save as <strong>world.php</strong>:</p>\n<pre class=\"language-text\"><code class=\"language-text\">&lt;?php\nclass World extends Controller {\n\n    function World()\n    {\n        parent::Controller();\n    }\n\n    function index($continent = NULL)\n    {\n        // Set continents data.  In a real application we\n        // would obtain this from a database via a model.\n        $data[&#39;continents&#39;] = array(\n                1 =&gt; &#39;Europe&#39;,\n                2 =&gt; &#39;Africa&#39;,\n                3 =&gt; &#39;North America&#39;,\n            );\n\n        // If a non-Ajax continent selection is made, call the\n        // list_countries method, and set countries data.\n        if (isset($continent))\n        {\n            $data[&#39;countries&#39;] = $this-&gt;list_countries($continent);\n        }\n\n        // Load world view.\n        $this-&gt;load-&gt;view(&#39;world_view&#39;, $data);\n    }\n\n    function list_countries($continent)\n    {\n        // Generated countries data.  As before, this would be\n        // obtained from a model.\n        $continents = array(\n                1 =&gt; array(&#39;UK&#39;, &#39;France&#39;, &#39;Germany&#39;),\n                2 =&gt; array(&#39;South Africa&#39;, &#39;Zimbabwe&#39;, &#39;Cameroon&#39;),\n                3 =&gt; array(&#39;USA&#39;, &#39;Canada&#39;),\n            );\n\n        // Decide whether to return JSON data, or an array,\n        // depending if $_POST[&#39;ajax&#39;] is set.\n        if (isset($_POST[&#39;ajax&#39;]))\n        {\n            echo json_encode($continents[$continent]);\n        }\n        else\n        {\n            return $continents[$continent];\n        }\n    }\n}\n?&gt;</code></pre>\n<p>Create a view and save as <strong>world_view.php</strong>:</p>\n<pre class=\"language-text\"><code class=\"language-text\">&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;World example&lt;/title&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/jquery.js&quot;&gt;&lt;/script&gt;\n    &lt;script type=&quot;text/javascript&quot;&gt;\n    function list_countries(id) {\n        $(&#39;li &gt; ul&#39;).slideUp(&#39;slow&#39;);\n\n        if ($(&#39;#id_&#39; + id).children(&#39;ul&#39;).length == 0) {\n            $.post(&#39;/world/list_countries/&#39; + id, {ajax:&#39;true&#39;},\n                function(data){\n                    unorderedlist = $(&#39;&lt;ul/&gt;&#39;).css(&#39;display&#39;, &#39;none&#39;);\n\n                    $.each(data, function(i, country){\n                        $(&#39;&lt;li/&gt;&#39;).text(country).appendTo(unorderedlist);\n                    });\n\n                    unorderedlist.appendTo(&#39;#id_&#39; + id);\n                    unorderedlist.slideDown(&#39;slow&#39;);\n                }, &#39;json&#39;);\n        } else {\n            $(&#39;#id_&#39; + id + &#39; &gt; ul&#39;).slideDown(&#39;slow&#39;);\n        }\n\n        return false;\n    }\n    &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;ul&gt;\n    &lt;?php foreach($continents as $id =&gt; $name):?&gt;\n    &lt;li id=&quot;id_&lt;?=$id;?&gt;&quot;&gt;&lt;a onclick=&quot;return list_countries(&lt;?=$id;?&gt;);&quot; href=&quot;&lt;?=site_url(&quot;/world/index/$id&quot;);?&gt;&quot; title=&quot;Show countries in &lt;?=$name;?&gt;&quot;&gt;&lt;?=$name;?&gt;&lt;/a&gt;\n    &lt;?php if ($id == $this-&gt;uri-&gt;segment(3)):?&gt;\n    &lt;ul&gt;\n        &lt;?php foreach($countries as $country):?&gt;\n        &lt;li&gt;&lt;?=$country;?&gt;&lt;/a&gt;&lt;/li&gt;\n        &lt;?php endforeach;?&gt;\n    &lt;/ul&gt;&lt;/li&gt;\n    &lt;?php endif;?&gt;\n    &lt;?php endforeach;?&gt;\n&lt;/ul&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n<p>I just noticed that my ISP only has PHP4 installed. If this is the case for you, you will have to alter the controller to get this to work. Change the line:</p>\n<pre class=\"language-text\"><code class=\"language-text\">&lt;a href=&quot;http://www.php.net/echo&quot;&gt;echo&lt;/a&gt; json_encode($continents[$continent]);</code></pre>\n<p>To:</p>\n<pre class=\"language-text\"><code class=\"language-text\">&lt;a href=&quot;http://www.php.net/echo&quot;&gt;echo&lt;/a&gt; &#39;[&quot;&#39; . &lt;a href=&quot;http://www.php.net/implode&quot;&gt;implode&lt;/a&gt;(&#39;&quot;,&quot;&#39;, $continents[$continent]) . &#39;&quot;]&#39;;</code></pre>\n<p>Obviously this solution does not scale well for more complex data structures. I would advise using a JSON serializer library of some description. You could also create a view for the JSON structures, and pass data to that. This would actually be a sensible approach, as you would have complete control over the output.</p>\n<h2 id=\"12-thoughts-on-codeigniter-and-ajax\"><a href=\"#12-thoughts-on-codeigniter-and-ajax\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>12 thoughts on ‚ÄúCodeIgniter and Ajax‚Äù</h2>\n<h3 id=\"anonymous\"><a href=\"#anonymous\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Anonymous</h3>\n<p><em>August 12, 2008 at 5:34 pm</em></p>\n<p>Incredible, thanks a lot for this‚Ä¶ it is exactly what I was looking for +invisible props.</p>\n<hr>\n<h3 id=\"christophe-sautot\"><a href=\"#christophe-sautot\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Christophe Sautot</h3>\n<p><em>May 13, 2009 at 4:37 am</em></p>\n<p>Thank you for posting this. It was really simple to understand, and straight to the point.</p>\n<hr>\n<h3 id=\"jedd\"><a href=\"#jedd\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Jedd</h3>\n<p><em>November 6, 2009 at 6:38 pm</em></p>\n<p>Looks interesting, and easy to follow. Reading is a bit frustrating on a 22‚Ä≥ monitor, given the code lumps are only showing about a 1/4 to a 1/3 of the width (much left &#x26; right scrolling required). Flippin‚Äô pixel-based stylesheets!</p>\n<hr>\n<h3 id=\"ghprod\"><a href=\"#ghprod\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>ghprod</h3>\n<p><em>December 30, 2009 at 8:45 am</em></p>\n<p>wonderful application!</p>\n<p>thanks for sharing this ajax!</p>\n<hr>\n<h3 id=\"rick\"><a href=\"#rick\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Rick</h3>\n<p><em>January 28, 2010 at 4:17 am</em></p>\n<p>You have to load the url helper in the controller constructor like so:</p>\n<pre class=\"language-text\"><code class=\"language-text\">$this-&gt;load-&gt;helper(‚Äòurl‚Äô); or you will get an undefined function error site url();</code></pre>\n<p>Very nice post thanks</p>\n<hr>\n<h3 id=\"sudeep\"><a href=\"#sudeep\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>sudeep</h3>\n<p><em>April 10, 2010 at 4:12 am</em></p>\n<p>dear Very very thankxxxxxx</p>\n<hr>\n<h3 id=\"heisler\"><a href=\"#heisler\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>heisler</h3>\n<p><em>August 4, 2010 at 3:29 pm</em></p>\n<p>Gracias</p>\n<hr>\n<h3 id=\"rayhan\"><a href=\"#rayhan\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Rayhan</h3>\n<p><em>January 16, 2011 at 3:20 pm</em></p>\n<p>It‚Äôs awesome! thanks a lot</p>\n<hr>\n<h3 id=\"triathlon-wetsuit\"><a href=\"#triathlon-wetsuit\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>triathlon wetsuit</h3>\n<p><em>February 8, 2011 at 10:28 am</em></p>\n<p>Awesome!</p>\n<hr>\n<h3 id=\"frederik-\"><a href=\"#frederik-\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Frederik .</h3>\n<p><em>May 18, 2011 at 8:53 am</em></p>\n<p>exactly what is was looking for, thanks !</p>\n<hr>\n<h3 id=\"kevin-phillips\"><a href=\"#kevin-phillips\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Kevin Phillips</h3>\n<p><em>July 30, 2011 at 9:38 pm</em></p>\n<p>As of ci 2 with csrf enabled you also need to add the ci_csrf_token into the post data.</p>\n<p>You will need to add jquery.cookie.js\nie:\ncreate a var inside the script</p>\n<pre class=\"language-text\"><code class=\"language-text\">var cct = $.cookie(‚Äòci_csrf_token‚Äô);</code></pre>\n<p>then at that to the post data</p>\n<pre class=\"language-text\"><code class=\"language-text\">{ajax:‚Äôtrue‚Äô, ‚Äòci_csrf_token‚Äô:cct}</code></pre>\n<hr>\n<h3 id=\"kevin-phillips-1\"><a href=\"#kevin-phillips-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Kevin Phillips</h3>\n<p><em>July 30, 2011 at 11:00 pm</em></p>\n<p>I‚Äôve made an update of this tutorial for codeigniter2 with csrf enabled\n<a href=\"http://www.kevinphillips.co.nz/news/jquery-axaj-codeigniter-2\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://www.kevinphillips.co.nz/news/jquery-axaj-codeigniter-2</a></p>\n<hr>\n"}}]}}},"context":{}}