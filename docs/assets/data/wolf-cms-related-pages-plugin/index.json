{"hash":"29c8696ef7044eb35a5645ab27c0306b691b5868","data":{"post":{"title":"Wolf CMS Related Pages plugin","path":"/wolf-cms-related-pages-plugin/","date":"17. May 2010","timeToRead":2,"tags":[{"id":"CodeIgniter","title":"CodeIgniter","path":"/tag/CodeIgniter/"},{"id":"PHP","title":"PHP","path":"/tag/PHP/"}],"description":"For many small projects I've been using Wolf CMS. a really nice and fairly lightweight application for managing content. What I like about it is that the core code is quite minimal, but allows you to extend using plugins.","content":"<p>For many small projects I've been using Wolf CMS, a really nice and fairly lightweight application for managing content. What I like about it is that the core code is quite minimal, but allows you to extend using plugins.</p>\n<p>Recently I've been asked to build a site that requires a the ability to relate other pages to the one an editor is currently editing.</p>\n<p>The plugin can be <a href=\"/downloads/related_pages.zip\">downloaded here</a>. Note: This version is for Wolf 0.7.2 and above. The older plugin for Wolf 0.6 is <a href=\"/downloads/related_pages_0_0_2.zip\">also available</a>. Once installed in the plugins directory and enabled in the administration screen, the following tab is now available when editing pages: Once installed in the plugins directory and enabled in the admininistration screen, the following tab is now available when editing pages:</p>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 478 450' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-5033ed37e3b6c24e79e25cce3c03d112'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-5033ed37e3b6c24e79e25cce3c03d112)' width='478' height='450' xlink:href='data:image/gif%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAA8CAYAAADWibxkAAAACXBIWXMAAAPoAAAD6AG1e1JrAAANb0lEQVRo3uVa%2bXNb1RXO39JSIHsIJBCyEdbpTCnlh7a/MHSmUEJbhgIpy5AQKB1mykACZCEZyrBkIU7sOI4db7JlO973Rbtlydpl2ZZsSZZtWYu/nnOf3rOsyEsCjeWgmW/u03v3vvfueWf5zrl3jdNth2fIhRG/72eJNW6vE/0DRtReV6OuvgbXG%2boItdJxfa1A5vk7CWsC46N4%2b503ce/ae/DAtvuxceN6bNy0AVvvvw%2bbt2zClvs2i%2bMNG9Zh0%2baNos/9D2ydB76%2bWrFmLOjHiy%2b9gLvv%2bRW20mR%2b88xv8fTTv8ZmmvieR3Zj1%2b6HqeNWPPPs7/DkE/uwdt292EBCYmGsW79WEdZ9W7esSpAARvHy3/bj7rvvwoMP78Chf32IP/7%2bWbz8yqs4/MFBHPrgEB5/4gkcPPwe/vnmGzjwxut4%2ba/78dL%2bF/HagQN4/rk/kEA2rFpNkARAE7qHNGD7jofw1sFD%2bNPzz%2bGtd9/FoffewYG3D%2bDRxx7Hq/94BY899SS%2bOP4Fjnx2FJ988h8c//JLvPr3F7CezINNY9WawF9eehG/vOsXwuZ37HoYu/fsxPaHtmPbdrLx1MQ2bFyHtet5olvx6JNPYf/%2bP5N/2ETXtmAjmcOmVQrhBF8/8BpN9gH60vvI5ndiJ2H3nl3YvXc39jAe2YNH9u3Fvkf3ivM7d%2b3Atge3SdcIfG3vPqnPaoMIgzqDFp3dHeju7VoWevq60avpWXb/XMYal8cBu9MGm2PwZwkhAKvNArOlHwNWcwr9RI5MhH5x3pxqpXMS5veXkK1P%2bthsY8Q47p82VoxLIb0fXzOZjTCY9ALGfoOAoX/umMF9uG%2b2Z2VCCGDQbhF/LIMDSuvyOOFw2YWUuB20W0XrdDsEbPRf7iuPY0FyHwfRa25Zsxwum9TyGLqXZZAenBojjxNj%2bN6pZ9pdkkbanYPKM1gYXp8H4Ykg4skYZpHATDyKmdg04okZxPiYEJ2ZFH3cXpcYY0l7VjZkCIDB2mBA8dUrUNfVorW9lehwnbD7anUVyq4Vo6qqEp29Pco4MXkSiEHfh6rqKqjV1ahSq9DQeB11dXWoIxqtqiqne7VJk1eEPYBB2wBqa6tRc70OZaVFqFBVoL6hES1tzWhqaRbvIwsgFB4H/zpa6lFdU4cBM02QNEyj6SItMMFKlN5is4s%2bwdCY0KqbEoAQAn1Fg7EXBZfycPrkSXz6%2bRf4%2bOOP0dDSApVKhW9OncCxz4%2biTF0DB30hoaYEK30xbXc7Tp/%2bL04cP4avv/0aJ48dwdEj1J/4wudHP8U3Z87BnK76BJt9AAUXzxOnOI2vvjqOb777GieOnsSxU1/iFI0zWgZgpRdllR4LBsTkivPzcJB4yvuHP8Rnn36C9z84TKTtPfp/GIWlKtFnbNwvxshatmwTYDXmllXRQr6guaURfTqNMAGG%2bBryV6e%2b2WBJ%2bQO2x36yx7nWqNxf9E216fbeb6H3sJjQ2NwAvcmg3JOvsWoDSUi/hFB9VntuGYmk1IIMhDVgsXeUoQjATA/mCU5FJ4VdRWemxM3Y1ti%2bpun8NJ2LpsB9FgOPyYZotv6pa/I4bpOzceVYvA8hkbJ9vsYtBJIK%2bJwM7ruc90wJwCq%2bADseHijfjDtMTUeQ/TebeolkGhLzXiIb5ve/8cWz908o/Xjyy0Hm2IVwgwAkFUqKyffqdNAa9LCRKnZ190Cj16KX7Ly1rQ1joaAQwnJf6KdCugZkQ3qf5WBBAbD6cSjk0MMCaGlpRVVNDbqa61BYVILR8TEhAFktF3po%2bvnZZWjI7UZWAaTbEQuCfxOREDxDHsVE0n%2byEFggEubMJFcnvqQA5r04HRsp5vaQSTgGTSgoKEBZZTmulRShrKKSYr0ajQ0tiJC/8PmGMDLiw8ioj7x2aPVqQKYacwgKhQOIRILoFzTURHxBRyGLWCOxPK/Hg0mKFP7AKPz%2bYQz5vHeOANiTeoa86Og1YCwwQhMLZ6j%2bwj/FD6xGE2AkUgLQ6PtRpGqDzaDB%2be/O4lzBJZz9/gwuEmN0k3A8Hi%2b8XjdcLiecDhu1Drg9bsRn%2bUGyMFehAGTHxnyA1T%2bRYl3sFGeIaISp5R%2bf4z6CKEUZk4I8zXL8ViYfX31O0DfsRWCM7JpU32qzIhDwoa%2bvBx2d7TAa9RikZKVPo0GUWdsMMbkYZ2QpJimzupQjXSxELifGr4gAPENuMXlOLnwjQ3BTAlRZXoyGpibUUxbX1NxESVINguEgmYBXqD2bgcdNqS2lwcMjwySApGRO5DOWJipzJpMTApApI/%2bfSfFx5gbMCaZI1dN/ccERZB6QXMQ1JhSekMkbpMnnWBRIpCbmoq/q9nAxxIbOPg1cNhOaW9txrbgIhcQJiq9eJk7QDF1POy4XFKGK6wgdzVDX1ENVRn0KC1FdrcaFvB9IgxoprAYFZ/D7RzBCCBK9zikNmHOCSckRToVFbOeqC79wZCJAXMCIvt4uaIwGWAb00GoN8A050cO5g0GHQUptu7p64Rw0o6OjHWazGTrKKTilnoiEyaeMYpR4A1Pu8eDYPH%2bREybABIi9u9vrQZfGiHAoQL5gWAhkenoCkalISnkX5wMLsIQbM0yefK7kAiwEJ8Vzv99HWaEZBWXN8DgHkJ93AecuFaKmqoQSoyLkMR8oLCYTKIKfkiS7XeIBHCG8xBHYZySUokVMwULJU05pAMdyUcgQhZBJJOnFmer6hj2i6jJJGsDtNIU%2bqWLD7C9G2jGpOM3Mr5wtT89MZ3OICCUV9eZwyPY6TIlOsaqFGJ8ddoeFvrYLDhrLZXQj2X03OUifzwk92brVyiUyK%2bUPJthtFqEhUqUmKgiTXH2KpUpbt1sIS2pAujNkR%2bUdcpEAhtHUaRCcQG/Soqq0FLXXa9HSRpygvBTFFWqixjbYBq2oLi9BHpnLtWvlaGuug9bUj1Hy/Eyb3U4X3ZO4g9sFu9NOrHJCCbk5lQ5nsrTJqQnwuKloRJjE/FieruqCHQhaLDtKWavSfYCoPdBzV4INLlsA/Ppuj1OAv1aXllJhSozKy1UopfhfUVWDzq4ONDRch2%2bUTcVPYS1ANJracemYw1xiVnJyS5W0clAASeHseCKcCPGqcpgwQPbd292G1vZOaTWmX4/xcEiQnGFS9VESxjDlEz5SdabFiXnZ4c3X/FamIpQmBHnVpUdnEgyOIf8ik2EaH0vz9FkMIy3O50KR5KZ8gEyJnZTs5JU0w6TpRFl5GQquFKP0yiWcOZuHC%2bfPY5iE4vaQwyTyxImRi0zGLWi0C7FETITJH1v9ve0akH6OwxbvLGEmOEVwi4k6ECFqyz5CcIFkPLVqEyMnGBEpslRxTk%2bIkvMSrpXwBTcdBVgDOBPs7O2jL%2byElUKdzWaFl74uawbfr6u7g2zeDZNOjz5tN0bGx%2bFyDECj14lr/WYTorGoEv8zV5NyUgPm0uNZSoSG4aQJD3ns6OjsxJX8PPxw5nsUkSlU84bK2kpUqcpx9UIhyipKUNvUCrOhDwWXL6O47BrU6koaP0RJk1twAAYL1UHEirWJtSanBCAfx1OxmnmA3WETSZK8hBZPfT2h3IkoJpUltYSw%2b/kMIZFleW1W9BX8QMkHco0HUJjzEBxOUnOtFvYBE3raOlAr1v/LcLW0BNdVtbASQ6xWqdDYWIMmum7QkpYUlqCysgzqmhqxv%2bBy0VWEKHfwB/wYI67AZbdgaDzj%2bZlVohXmAcwBuDTGPIDNIBzyY2DADI22B62tzdAbdeho6UAwEoRG0wudrgca8gM6TRf6ujXo6mhFd28PDEY9Wqh/aCJE9wuI5IoF6xseElq0UK1wxQSQyQPGee2dnB/zgdHRIaLE04rnTyImSI%2b0bjCj%2bI3xUCBraSye4KX3qSzZ4lxpbe5d4itTEsssjTkppndrNRiixKi7qQ6FxeXkCPMJl9He1Q61qhLnvv0WFwou4srVK5QwGZGfdxZ55ATzL15AXkE%2bCi/n4dz5i6hvqMHVwmsYIRPgtQVeWvN43ATJ3NKLqv8PLLo/INs6vrx0zrm/SGFjU2KlaIwmEKB0mdVaFE1ddlEpZmc5MTmBcDhAPsRN4dIpKs3MG7geyGYVDI6LgirXELjkNkn9mVOwqUkVp6XX%2bW8VN2yRiZCHF1tPFtjlIXZzpCo73MrH6VoiL7EnhUePK9Ejm0ATYlxMqQekV4wkzCi7SJba7XEruGGTlLJXJ22/X%2bYev6U2Ht0KFrvnUju9fgxu0AB2cBzfkxlOh6XF8Z/VV95/91MLYSVwgw%2bQihNRNDfVw0jOS9NLOX5zC%2bX4o1IEIJuVt5/dCZgvAGrZGcXjUzh17AiOnTyBkyeO4d8ffQR1Q6tSF%2bStqHfC18%2bqAXNl8aQS9ycnQ6LqK3MAlhz3lfcOrmYsui6QToOR9l/emHgnYMFdYpy/Rygec92fW3aMoVBQHE%2bIGH1z4Pusmh0i8ldvqlWjoqJUFDyrKotxMS%2bf8nuDsj1mKZYlL4rwdluvoMe3f1/hLe0TlFQ9AafDITZFDDqcgtFZBgcxTNGAqSmnuLFEfEnEkwnB5qZnoqtrj5C0ASqZkZzMKvsEFtoLnA1c4JD39Oca/ge73Iv7xIu6FgAAAABJRU5ErkJggg==' /%3e%3c/svg%3e\" width=\"478\" alt=\"Related pages plug-in screenshot\" data-srcset=\"/assets/static/screenshot_related_pages.69ed4eb.107b7ea9498b975710aa5c68c68d7a96.gif 478w\" data-sizes=\"(max-width: 478px) 100vw, 478px\" data-src=\"/assets/static/screenshot_related_pages.69ed4eb.107b7ea9498b975710aa5c68c68d7a96.gif\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/screenshot_related_pages.69ed4eb.107b7ea9498b975710aa5c68c68d7a96.gif\" width=\"478\" alt=\"Related pages plug-in screenshot\"></noscript></p>\n<p>See the documention screen for sample frontend code which lists the related pages.</p>\n<p>Please be aware that I really did knock this together rather quickly, but it works for me. If anyone finds any bugs, please let me know.</p>\n<h2 id=\"6-thoughts-on-wolf-cms-related-pages-plugin\"><a href=\"#6-thoughts-on-wolf-cms-related-pages-plugin\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>6 thoughts on “Wolf CMS Related Pages plugin”</h2>\n<h3 id=\"steven\"><a href=\"#steven\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Steven</h3>\n<p><em>January 15, 2011 at 4:08 pm</em></p>\n<p>Very nice work! The plugin for Wolf version 0.6 works perfectly but I also tried the version for wolf 0.7.2 and it didn’t open the sub pages.</p>\n<p>I tried it on a fresh install of the latest Wolf release (which is 0.7.3) so maybe that why the sub pages didn’t show. Just letting you know in case the problem is coming from version 0.7.3</p>\n<p>Still amazing! Keep up the good work!</p>\n<hr>\n<h3 id=\"steven-1\"><a href=\"#steven-1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Steven</h3>\n<p><em>March 19, 2011 at 1:54 pm</em></p>\n<p>Hey Andrew, I found a bug in your plugin,\nin the DeleteAllByPage function, you need to change it to</p>\n<pre class=\"language-text\"><code class=\"language-text\">Record::deleteWhere(__CLASS__, ‘page_id = ? OR related_page_id’, array($page_id, $page_id));</code></pre>\n<p>Because you also need to delete all of the records of the pages linked to the deleted page. When you get the relations, you get the url manually… but if you give it an id of a page that was deleted, it loops forever. So when a page is deleted, make sure you delete it’s entries and the entries of the pages linking to it.</p>\n<hr>\n<h3 id=\"steven-2\"><a href=\"#steven-2\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Steven</h3>\n<p><em>March 19, 2011 at 1:55 pm</em></p>\n<p>Sorry, there was a mistake in the line I sent you… this is the fix:</p>\n<pre class=\"language-text\"><code class=\"language-text\">Record::deleteWhere(__CLASS__, ‘page_id = ? OR related_page_id = ?’, array($page_id, $page_id));</code></pre>\n<hr>\n<h3 id=\"andy\"><a href=\"#andy\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Andy</h3>\n<p><em>March 19, 2011 at 6:18 pm</em></p>\n<p>Thanks Steven, the download now includes your fix. Thanks for this, it’s much appreciated.</p>\n<hr>\n<h3 id=\"christoph\"><a href=\"#christoph\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Christoph</h3>\n<p><em>October 10, 2011 at 6:22 am</em></p>\n<p>Hi!</p>\n<p>super plugin for wolf cms! My question: are there any possibilities to show the “parent->title()” of a “related article”??</p>\n<p>Thank you for your help!</p>\n<p>Greetings from Germany!\nChristoph</p>\n<hr>\n<h3 id=\"andy-r\"><a href=\"#andy-r\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Andy R</h3>\n<p><em>October 10, 2011 at 8:57 pm</em></p>\n<p>You should by able to access the parent like you would any page object:</p>\n<pre class=\"language-text\"><code class=\"language-text\">&lt;?php\n$relations = get_relations($this-&gt;id);\n\nif (!empty($relations)){\n  echo &#39;&lt;ul&gt;&#39;;\n  foreach ($relations as $related){\n    echo &#39;&lt;li&gt;&#39; . $related-&gt;parent()-&gt;title() . &#39;: &#39; . $related-&gt;link() . &#39;&lt;/li&gt;&#39;;\n  }\n  echo &#39;&lt;/ul&gt;&#39;;\n}\n?&gt;</code></pre>\n<p>But I still think there is a problem with incorrectly initialised objects when obtained by the findById function.</p>\n<p>See: <a href=\"https://github.com/wolfcms/wolfcms/issues/175\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/wolfcms/wolfcms/issues/175</a></p>\n<hr>\n","cover_image":null}},"context":{}}