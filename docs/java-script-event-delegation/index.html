<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5KQZ3N');</script>
    <!-- End Google Tag Manager -->
    <title>JavaScript event delegation - Andrew Rowland</title><meta name="gridsome:hash" content="7a4543962a9c9fdc79942c2ec9ee69f3625333b8"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.12"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="I only want to help you"><meta data-vue-tag="ssr" name="description" content="As I&#x27;ve mentioned previously I&#x27;m creating a dashboard to represent the components in the exchange that I work for. Each component widget on the page has a number of events associated with it. This has become less manageable, the more I add. So I thought about using one delegate to handle all events, and pass on a component reference, and parameters to other functions."><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.ac64c76abcd4710b88c6efd7d6aa8915.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.ac64c76abcd4710b88c6efd7d6aa8915.png"><link rel="preload" href="/assets/css/0.styles.7169b5b9.css" as="style"><link rel="preload" href="/assets/js/app.6123b84a.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-post-vue.61f72de3.js" as="script"><link rel="prefetch" href="/assets/js/page--src-pages-404-vue.fb0b6ddc.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.f33899c6.js"><link rel="prefetch" href="/assets/js/page--src-templates-redirect-vue.00797293.js"><link rel="prefetch" href="/assets/js/page--src-templates-tag-vue.4714354b.js"><link rel="stylesheet" href="/assets/css/0.styles.7169b5b9.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5KQZ3N"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute('data-theme', newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem('theme') || 'dark';
        } catch (err) { }

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem('theme', newTheme);
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)');
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        });

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
      })();
    </script>

    <div id="app" data-server-rendered="true"><header class="header"><div class="header__left"><a href="/" class="logo active"><span class="logo__text">
    ← Andrew Rowland
  </span></a></div><div class="header__right"><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></button></div></header><main class="main"><div class="post-title"><h1 class="post-title__text">
      JavaScript event delegation
    </h1><div class="post-meta">
   Posted 18. May 2008.
   <strong>2 min read.</strong></div></div><div class="post content-box"><div class="post__header"><!----></div><div class="post__content"><p>A quick google led me to <a href="https://blog.danwebb.net/2008/2/8/event-delegation-made-easy-in-jquery" target="_blank" rel="nofollow noopener noreferrer">this article</a> by <a href="https://blog.danwebb.net/" target="_blank" rel="nofollow noopener noreferrer">Dan Webb</a>. Looks like a common technique. Very useful article, though I needed to be able to pass parameters to the functions. There may be a better to way to do this, but this is how I achieved it.</p>
<p>Using jQuery (what else?!) the delegate method is called via an onClick event on the body of the document. In this case, it checks that the target of the event is a button. If any other element is clicked, nothing will happen.</p>
<p>Using jQuery (what else?!) the delegate method is called via an onClick event on the body of the document. In this case, it checks that the target of the event is a button. If any other element is clicked, nothing will happen.</p>
<pre class="language-text"><code class="language-text">$(document).ready(function(){
    $(&#39;body&#39;).click(function(e){
        if (e.target.type == &#39;submit&#39; || e.target.type == &#39;button&#39;){
            var t = $(e.target);
            var fn = t.attr(&#39;class&#39;);
            var p = eval(&#39;(&#39; + t.find(&#39;.params&#39;).html() + &#39;)&#39;);

            window[fn].call(this, t, p);
        }
    });
});</code></pre>
<p>The function that the delegate passes the parameters to, is decided by the class name of the button. You could also use this class name to style the button in any manner you wish. The parameters to pass to this function are evaluated from JSON that is stored within hidden span class called params. Example button markup:</p>
<pre class="language-text"><code class="language-text">&lt;button class=&quot;changeLabel&quot;&gt;
    &lt;span class=&quot;params&quot;&gt;
        {message:&quot;Button pressed&quot;}
    &lt;/span&gt;
    &lt;span class=&quot;label&quot;&gt;
        Press me
    &lt;/span&gt;
&lt;/button&gt;</code></pre>
<p>I've surrounded the button label text within another span class called label. This enables me to change the label text without losing the parameters. Simple CSS is used to hide the parameter span tag:</p>
<pre class="language-text"><code class="language-text">.params {
    display: none;
}</code></pre>
<p>The way I've stored the parameters may be a little odd, and I feel I may be missing something here. I construct my dashboard dynamically using jQuery, so all the parameters are injected into each control buttons at runtime. If anyone can point out an easier solution feel free to share. Full example:</p>
<pre class="language-text"><code class="language-text">&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Delegate example&lt;/title&gt;
    &lt;script type=&quot;text/javascript&quot; src=&quot;/path/to/jquery.js&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
    $(document).ready(function(){
        $(&#39;body&#39;).click(function(e){
            if (e.target.type == &#39;submit&#39; || e.target.type == &#39;button&#39;){
                var t = $(e.target);
                var fn = t.attr(&#39;class&#39;);
                var p = eval(&#39;(&#39; + t.find(&#39;.params&#39;).html() + &#39;)&#39;);

                window[fn].call(this, t, p);
            }
        });
    });

    function changeLabel(obj, params){
        obj.find(&#39;.label&#39;).text(params.message);
    }
    &lt;/script&gt;
    &lt;style type=&quot;text/css&quot;&gt;
    .params {
        display: none;
    }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;button class=&quot;changeLabel&quot;&gt;
    &lt;span class=&quot;params&quot;&gt;
        {message:&quot;Button pressed&quot;}
    &lt;/span&gt;
    &lt;span class=&quot;label&quot;&gt;
        Press me
    &lt;/span&gt;
&lt;/button&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
<h2 id="one-thought-on-javascript-event-delegation"><a href="#one-thought-on-javascript-event-delegation" aria-hidden="true"><span class="icon icon-link"></span></a>One thought on “JavaScript event delegation”</h2>
<h3 id="geralynn"><a href="#geralynn" aria-hidden="true"><span class="icon icon-link"></span></a>Geralynn</h3>
<p><em>April 28, 2011 at 5:49 am</em></p>
<p>Walking in the presence of giants here. Cool thinking all arnuod!</p>
<hr>
</div><div class="post__footer"><div class="post-tags"><a href="/tag/JavaScript/" class="post-tags__link"><span>#</span> JavaScript
		</a></div></div></div><div class="post-comments"><div class="comments"></div></div><div class="author post-author"><img alt="Author image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-79abe12977319e63670ceacd51dd8a4b'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='5'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-79abe12977319e63670ceacd51dd8a4b)' width='180' height='180' xlink:href='data:image/png%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABAAEADASIAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAABgcDBAUCAAj/xAA2EAACAQMCBAUCBAMJAAAAAAABAgMABBEFEgYhMUETFCJRYYGRMkJxsRUjQwckUlOSocHh8P/EABoBAAIDAQEAAAAAAAAAAAAAAAMEAgUGAQD/xAAiEQACAgIDAAMAAwAAAAAAAAABAgADBBESITETMkFRUmH/2gAMAwEAAhEDEQA/AK0Gpp3NaMGpxcvWKR68V3I6Qp/qNSpxbddoo/uavzwP7ALYB%2bR8w6pD3kFXodVg/wAYpDWPEep3MgWKKIfJzyogtLe8uWDXVxOT7KxVR9BSeRdVV6Y9jVtd9Vjmi1iAf1BVuPWbYdZBSgNtd2mXinmIx%2bFiSP8AesDUtf1mylCtJHsb8LbP%2b%2btQpau/6mEuU0dsvU%2bh01q2/wAwVMuvWg/qCvmccUay6H%2b8IueWQnSoBrusH8Wo3GfYAUU4v%2bwIyk/rBKKEsnpjYnufDNTrbkc/V9gKopMXX8bL7hTit7gSxsrniexj1CHxoHYqUfmuSDgkVNrAiltb1EUTkwXfsJ%2bDbBXXcycyM02dC0qIwjCBnIoJ/ggs%2bJzbWlzLbWpIYQx4KOh5cs9OnaiTUJNZEiraDytui8goyzcuWc1mb7BY/In2X9G604gTensU2srQ4YdsUvOPrCNdLmfZtKMrAgc%2buDWrqvE/EECmOOO0kgEiQtO6sHBI9RA6EDkP1oY1u%2b1K70uSC6hQO7D%2bbk8hnJPM47UfDYrapncluVTAwQTwWwi5L%2bzEZ/erHlpw%2bFs5Xj6DPpyf1zUwRlRWDAY6kSxjNeW%2b3QSALNKg6%2bE4Uj26jn9K1Psz2tezDjt4nw0YAI7bQR96ns7g2s8UsLL40TB1b5FCFlqTxPi43PH3OeYol0K5OoNMI7Vo4EGQ5Oct7UuuTTYP4kSjodiMnRtcudZ16zlvIoIp1UACEnaBnPPPemv56J7X1Ebscl6/ekrpkvlLvzcrB2ib%2bYoAHowOYpk6XMLiziEZVnUblBOdw%2bcfFZjLTi/XQl5hXc17Pc4vPBigm8zHJI7qGQgct3sR2FDP9oUlv/AUtlIUzsuWRc47mjDiK6tptOeKOwkgutuPFjnYqnzg0s9X1Q39wDbBPBjyqFsnce7f%2b9qYwKi1y78ELmWlaiP0wesNLVAQqM2fzFcCr1rowLEyTMqkcwMYNT%2bcnGAQucflWozqUgk27JmPydo%2b1an5UUdSgCExfaPw1dX6iSQeBD2Zhlj%2bgpkaTYxwaawRRE0C7ACM8uh5fQHPzU6afJGztEq7ipySG6fBB5dv2qNFaORAno3rtdeqnqcN8nlVGAF8k2JaSW8ckURmhZjOhO/aCwIJ5ZPatXh7WBYTvJtZ7V2ICJgNH7deo%2bKpRlUjaOEgq4AZtp6g5OfrgCqF1blpJH2oi4VmELkdu/vzHfpQ7EFg0Z2p2rbawm4s4kgm02ZLWO5FwQUI8NgFz3JpaXV1Laadb4O4lih5de/X61rh5JDcDxnV4xuYE8zyzn9qw%2bIIvN27ywJKu3JTxGyygdj2yftXqKxUdrGbLzaumE9BrLbQuNo6DHLFcX1%2b7gEy%2b4wTQ5FeBgBIeZ/MB/xXE1xzG71D4pv5eoKf/9k=' /%3e%3c/svg%3e" width="180" data-src="/assets/static/author.e6b6009.01fea4a6eb109fed65874b88d6ddc592.png" data-srcset="/assets/static/author.e6b6009.01fea4a6eb109fed65874b88d6ddc592.png 180w" data-sizes="(max-width: 180px) 100vw, 180px" class="author__image g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/author.e6b6009.01fea4a6eb109fed65874b88d6ddc592.png" class="author__image g-image g-image--loaded" width="180" alt="Author image"></noscript><!----><p class="author__intro">
		I only want to help you...
	</p><p class="author__links"><a href="//www.linkedin.com/in/hashbang/">LinkedIn</a><a href="//twitter.com/andyjrowland">Twitter</a><a href="//github.com/ajrowland">GitHub</a></p></div></main><footer class="footer"><span class="footer__copyright">Copyright © 2020. </span><span class="footer__links"></span></footer></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"JavaScript event delegation","path":"\u002Fjava-script-event-delegation\u002F","date":"18. May 2008","timeToRead":2,"tags":[{"id":"JavaScript","title":"JavaScript","path":"\u002Ftag\u002FJavaScript\u002F"}],"description":"As I've mentioned previously I'm creating a dashboard to represent the components in the exchange that I work for. Each component widget on the page has a number of events associated with it. This has become less manageable, the more I add. So I thought about using one delegate to handle all events, and pass on a component reference, and parameters to other functions.","content":"\u003Cp\u003EA quick google led me to \u003Ca href=\"https:\u002F\u002Fblog.danwebb.net\u002F2008\u002F2\u002F8\u002Fevent-delegation-made-easy-in-jquery\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ethis article\u003C\u002Fa\u003E by \u003Ca href=\"https:\u002F\u002Fblog.danwebb.net\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EDan Webb\u003C\u002Fa\u003E. Looks like a common technique. Very useful article, though I needed to be able to pass parameters to the functions. There may be a better to way to do this, but this is how I achieved it.\u003C\u002Fp\u003E\n\u003Cp\u003EUsing jQuery (what else?!) the delegate method is called via an onClick event on the body of the document. In this case, it checks that the target of the event is a button. If any other element is clicked, nothing will happen.\u003C\u002Fp\u003E\n\u003Cp\u003EUsing jQuery (what else?!) the delegate method is called via an onClick event on the body of the document. In this case, it checks that the target of the event is a button. If any other element is clicked, nothing will happen.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E$(document).ready(function(){\n    $(&#39;body&#39;).click(function(e){\n        if (e.target.type == &#39;submit&#39; || e.target.type == &#39;button&#39;){\n            var t = $(e.target);\n            var fn = t.attr(&#39;class&#39;);\n            var p = eval(&#39;(&#39; + t.find(&#39;.params&#39;).html() + &#39;)&#39;);\n\n            window[fn].call(this, t, p);\n        }\n    });\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe function that the delegate passes the parameters to, is decided by the class name of the button. You could also use this class name to style the button in any manner you wish. The parameters to pass to this function are evaluated from JSON that is stored within hidden span class called params. Example button markup:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E&lt;button class=&quot;changeLabel&quot;&gt;\n    &lt;span class=&quot;params&quot;&gt;\n        {message:&quot;Button pressed&quot;}\n    &lt;\u002Fspan&gt;\n    &lt;span class=&quot;label&quot;&gt;\n        Press me\n    &lt;\u002Fspan&gt;\n&lt;\u002Fbutton&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EI've surrounded the button label text within another span class called label. This enables me to change the label text without losing the parameters. Simple CSS is used to hide the parameter span tag:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E.params {\n    display: none;\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe way I've stored the parameters may be a little odd, and I feel I may be missing something here. I construct my dashboard dynamically using jQuery, so all the parameters are injected into each control buttons at runtime. If anyone can point out an easier solution feel free to share. Full example:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Delegate example&lt;\u002Ftitle&gt;\n    &lt;script type=&quot;text\u002Fjavascript&quot; src=&quot;\u002Fpath\u002Fto\u002Fjquery.js&quot;&gt;&lt;\u002Fscript&gt;\n    &lt;script type=&quot;text\u002Fjavascript&quot;&gt;\n    $(document).ready(function(){\n        $(&#39;body&#39;).click(function(e){\n            if (e.target.type == &#39;submit&#39; || e.target.type == &#39;button&#39;){\n                var t = $(e.target);\n                var fn = t.attr(&#39;class&#39;);\n                var p = eval(&#39;(&#39; + t.find(&#39;.params&#39;).html() + &#39;)&#39;);\n\n                window[fn].call(this, t, p);\n            }\n        });\n    });\n\n    function changeLabel(obj, params){\n        obj.find(&#39;.label&#39;).text(params.message);\n    }\n    &lt;\u002Fscript&gt;\n    &lt;style type=&quot;text\u002Fcss&quot;&gt;\n    .params {\n        display: none;\n    }\n    &lt;\u002Fstyle&gt;\n&lt;\u002Fhead&gt;\n&lt;body&gt;\n\n&lt;button class=&quot;changeLabel&quot;&gt;\n    &lt;span class=&quot;params&quot;&gt;\n        {message:&quot;Button pressed&quot;}\n    &lt;\u002Fspan&gt;\n    &lt;span class=&quot;label&quot;&gt;\n        Press me\n    &lt;\u002Fspan&gt;\n&lt;\u002Fbutton&gt;\n\n&lt;\u002Fbody&gt;\n&lt;\u002Fhtml&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"one-thought-on-javascript-event-delegation\"\u003E\u003Ca href=\"#one-thought-on-javascript-event-delegation\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EOne thought on “JavaScript event delegation”\u003C\u002Fh2\u003E\n\u003Ch3 id=\"geralynn\"\u003E\u003Ca href=\"#geralynn\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EGeralynn\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cem\u003EApril 28, 2011 at 5:49 am\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EWalking in the presence of giants here. Cool thinking all arnuod!\u003C\u002Fp\u003E\n\u003Chr\u003E\n","cover_image":null}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.6123b84a.js" defer></script><script src="/assets/js/page--src-templates-post-vue.61f72de3.js" defer></script>
  </body>
</html>