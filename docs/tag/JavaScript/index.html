<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>JavaScript - Andrew Rowland</title><meta name="gridsome:hash" content="991b478cce50973ae5c1821e372bff0fe0c029c3"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.12"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="I only want to help you"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link rel="preload" href="/assets/css/0.styles.a99c3e53.css" as="style"><link rel="preload" href="/assets/js/app.45c00927.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-tag-vue.2a3d54c3.js" as="script"><link rel="prefetch" href="/assets/js/page--src-pages-404-vue.a65c7339.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.ae668e91.js"><link rel="prefetch" href="/assets/js/page--src-templates-post-vue.7ebf8617.js"><link rel="prefetch" href="/assets/js/page--src-templates-redirect-vue.29ebfca3.js"><link rel="stylesheet" href="/assets/css/0.styles.a99c3e53.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute('data-theme', newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem('theme');
        } catch (err) { }

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem('theme', newTheme);
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: light)');
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        });

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
      })();
    </script>

    <div id="app" data-server-rendered="true"><header class="header"><div class="header__left"><a href="/" class="logo active"><span class="logo__text">
    ← Andrew Rowland
  </span></a></div><div class="header__right"><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></button></div></header><main class="main"><h1 class="tag-title text-center space-bottom">
    # JavaScript
  </h1><div class="posts"><div class="post-card content-box"><div class="post-card__header"><!----></div><div class="post-card__content"><h2 class="post-card__title">Create Episerver Find index using Puppeteer</h2><p class="post-card__description">Currently working with many clients who utilise Episerver CMS to managed their content. Almost all of then use Episerver Find to index content.</p><div class="post-meta post-card__meta">
   Posted 18. February 2018.
   <strong>1 min read.</strong></div><div class="post-tags post-card__tags"></div><a href="/create-episerver-find-index-using-puppeteer/" class="post-card__link">Link</a></div></div><div class="post-card content-box"><div class="post-card__header"><!----></div><div class="post-card__content"><h2 class="post-card__title">TypeScript Sublime Text integration</h2><p class="post-card__description">Something interesting has happened in the world of JavaScript development. Of all people, the folk at Microsoft have developed TypeScript.</p><div class="post-meta post-card__meta">
   Posted 8. October 2012.
   <strong>1 min read.</strong></div><div class="post-tags post-card__tags"></div><a href="/type-script-sublime-text-integration/" class="post-card__link">Link</a></div></div><div class="post-card content-box"><div class="post-card__header"><!----></div><div class="post-card__content"><h2 class="post-card__title">jQuery UI Date Picker control issue with .Net</h2><p class="post-card__description">Aye, I do whitter on about jQuery. It's ace. The newly released jQuery UI is pretty special too. One of the many great widgets is the Date Picker control.</p><div class="post-meta post-card__meta">
   Posted 11. June 2008.
   <strong>1 min read.</strong></div><div class="post-tags post-card__tags"></div><a href="/j-query-ui-date-picker-control-issue-with-net/" class="post-card__link">Link</a></div></div><div class="post-card content-box"><div class="post-card__header"><!----></div><div class="post-card__content"><h2 class="post-card__title">Using jQuery selectors to reference .Net controls</h2><p class="post-card__description"></p><div class="post-meta post-card__meta">
   Posted 4. June 2008.
   <strong>1 min read.</strong></div><div class="post-tags post-card__tags"></div><a href="/using-j-query-selectors-to-reference-net-controls/" class="post-card__link">Link</a></div></div><div class="post-card content-box"><div class="post-card__header"><!----></div><div class="post-card__content"><h2 class="post-card__title">JavaScript event delegation</h2><p class="post-card__description">As I've mentioned previously I'm creating a dashboard to represent the components in the exchange that I work for. Each component widget on the page has a number of events associated with it. This has become less manageable, the more I add. So I thought about using one delegate to handle all events, and pass on a component reference, and parameters to other functions.</p><div class="post-meta post-card__meta">
   Posted 18. May 2008.
   <strong>2 min read.</strong></div><div class="post-tags post-card__tags"></div><a href="/java-script-event-delegation/" class="post-card__link">Link</a></div></div><div class="post-card content-box"><div class="post-card__header"><!----></div><div class="post-card__content"><h2 class="post-card__title">Consume .Net Web service using jQuery</h2><p class="post-card__description">The JavaScript functionality that is injected into .Net pages seems limited when compared to jQuery.
Whilst looking for a way to use jQuery instead of the stock Microsoft client library, I came across an excellent article.</p><div class="post-meta post-card__meta">
   Posted 29. April 2008.
   <strong>3 min read.</strong></div><div class="post-tags post-card__tags"></div><a href="/consume-net-web-service-using-j-query/" class="post-card__link">Link</a></div></div><div class="post-card content-box"><div class="post-card__header"><!----></div><div class="post-card__content"><h2 class="post-card__title">CodeIgniter and Ajax</h2><p class="post-card__description">I've been asked to create a dashboard for many devices across our network. To display real-time information on each component, I'm thinking of using Web services, and AJAX. Like most aspects of coding, using a framework to do all the heavy lifting, rather than developing your own, is a sensible approach.
So today I took a look at jQuery, a JavaScript framework. I have to admit, I'm pretty impressed. It did not take me long to come up with some example code, that degrades well when JavaScript is disabled in the browser.</p><div class="post-meta post-card__meta">
   Posted 27. April 2008.
   <strong>3 min read.</strong></div><div class="post-tags post-card__tags"></div><a href="/code-igniter-and-ajax/" class="post-card__link">Link</a></div></div></div></main><footer class="footer"><span class="footer__copyright">Copyright © 2019. </span><span class="footer__links"></span></footer></div>
    <script>window.__INITIAL_STATE__={"data":{"tag":{"title":"JavaScript","belongsTo":{"edges":[{"node":{"title":"Create Episerver Find index using Puppeteer","path":"\u002Fcreate-episerver-find-index-using-puppeteer\u002F","date":"18. February 2018","timeToRead":1,"description":"Currently working with many clients who utilise Episerver CMS to managed their content. Almost all of then use Episerver Find to index content.","content":"\u003Cp\u003ECurrently working with many clients who utilise Episerver CMS to managed their content. Almost all of then use \u003Ca href=\"https:\u002F\u002Ffind.episerver.com\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EEpiserver Find\u003C\u002Fa\u003E to index content.\u003C\u002Fp\u003E\n\u003Cp\u003EEpiserver do not provide an API to automate the creation of new indices. As I was messing around with \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fpuppeteer\u002Fpuppeteer\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EPuppeteer\u003C\u002Fa\u003E and headless Chrome, I thought I’d knock up a tool to do this. You can find the code in my \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fajrowland\u002Fcreate-episerver-find-index\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EGithub repo\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EUsing your favourite shell, clone the repo:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Egit clone https:\u002F\u002Fgithub.com\u002Fajrowland\u002Fcreate-episerver-find-index.git\ncd create-episerver-find-index\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EInstall dependencies:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Enpm install\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EYou’ll need to create a \u003Ca href=\"https:\u002F\u002Ffind.episerver.com\u002FAccount\u002FRegister\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Edeveloper account for Find\u003C\u002Fa\u003E. Once this is done, you can create an index with the following:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Enode createindex.js --username [username] --password [password] --indexname [indexname]\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe script returns the configuration for the newly created index, or an existing index if it already exists.\u003C\u002Fp\u003E\n\u003Cp\u003EUltimately I hope to use something like this within a continuous integration, or deployment pipeline, to make certain a valid index is available for the application.\u003C\u002Fp\u003E\n\u003Cp\u003EHope this helps someone.\u003C\u002Fp\u003E\n"}},{"node":{"title":"TypeScript Sublime Text integration","path":"\u002Ftype-script-sublime-text-integration\u002F","date":"8. October 2012","timeToRead":1,"description":"Something interesting has happened in the world of JavaScript development. Of all people, the folk at Microsoft have developed TypeScript.","content":"\u003Cp\u003ESomething interesting has happened in the world of JavaScript development. Of all people, the folk at Microsoft have developed TypeScript. If you’re in to such things, I don’t need to explain further. There is a Visual Studio 2012 plugin, but these days I’ve fallen in love with Sublime Text. Here’s a quick howto on TypeScript development with Sublime Text, specifically on Windows 7.\u003C\u002Fp\u003E\n\u003Cp\u003EFirst install theNode.jsmsi package. Once installed, open a command prompt and type the following to install the TypeScript compiler:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Enpm install -g typescript\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENow grab the Sublime Text syntax hightlight definition file from MSDN. Open the zip and copy the \u003Cem\u003Etypescript.tmplanguage\u003C\u002Fem\u003E file to your Sublime Text user packages directory. Mine is located in:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003EC:\\Users\\arowland\\AppData\\Roaming\\Sublime Text 2\\Packages\\User\\\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENow open Sublime Text. Select \u003Cstrong\u003ETools -\u003E Build System -\u003E New Build System\u003C\u002Fstrong\u003E. Paste in the following:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E{\n    &quot;selector&quot;: &quot;source.ts&quot;,\n    &quot;cmd&quot;: [&quot;tsc.cmd&quot;, &quot;$file&quot;],\n    &quot;file_regex&quot;: &quot;^(.+?) \\\\((\\\\d+),(\\\\d+)\\\\): (.+)$&quot;\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ESave this file. Now you can create a new JavaScript file, and save with the .ts extension. The editor will highlight TypeScript code, and allow you to compile to JavaScript by pressing \u003Cstrong\u003ECtrl+B\u003C\u002Fstrong\u003E. The build process will create the compiled JavaScript file in the same directory as the source TypeScript.\u003C\u002Fp\u003E\n"}},{"node":{"title":"jQuery UI Date Picker control issue with .Net","path":"\u002Fj-query-ui-date-picker-control-issue-with-net\u002F","date":"11. June 2008","timeToRead":1,"description":"Aye, I do whitter on about jQuery. It's ace. The newly released jQuery UI is pretty special too. One of the many great widgets is the Date Picker control.","content":"\u003Cp\u003EAye, I do whitter on about \u003Ca href=\"https:\u002F\u002Fjquery.com\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EjQuery\u003C\u002Fa\u003E. It's ace. The newly released \u003Ca href=\"https:\u002F\u002Fjqueryui.com\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EjQuery UI\u003C\u002Fa\u003E is pretty special too. One of the many great widgets is the Date Picker control.\u003C\u002Fp\u003E\n\u003Cp\u003EI build many .net applications that require date entry, so I implement the Date Picker control often. Unfortunately, there is a problem when it is used on a field that is validated using a .Net validation control. Upon clicking on a date, I get the following error:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Elength is null or not an object\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThis only occurs when using Internet Explorer. Currently, my only solution is to edit the source code. Locate the following code in \u003Cstrong\u003Ejquery-ui.js\u003C\u002Fstrong\u003E or \u003Cstrong\u003Eui.datepicker.js\u003C\u002Fstrong\u003E:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Einst.input.trigger(&#39;change&#39;)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EReplace it with:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Eif (!$.browser.msie){inst.input.trigger(&#39;change&#39;)}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThis prevents the change event firing in IE.\u003C\u002Fp\u003E\n\u003Cp\u003EI wouldn't normally advocate changing source code in this manner, as it makes future upgrades tedious. Hopefully it will be addressed in a future release.\u003C\u002Fp\u003E\n"}},{"node":{"title":"Using jQuery selectors to reference .Net controls","path":"\u002Fusing-j-query-selectors-to-reference-net-controls\u002F","date":"4. June 2008","timeToRead":1,"description":"","content":"\u003Cp\u003EYou place a control onto your page:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E&lt;asp:Content ID=&quot;Content1&quot; ContentPlaceHolderID=&quot;Content&quot; Runat=&quot;Server&quot;&gt;\n    &lt;asp:TextBox Id=&quot;Firstname&quot; Runat=&quot;Server&quot; \u002F&gt;\n&lt;\u002Fasp:Content&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe output is rendered as:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E&lt;input name=&quot;ctl00$Content$FirstName&quot; type=&quot;text&quot; id=&quot;ctl00_Content_FirstName&quot; \u002F&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EIn the example above, the disparity in the rendered id attribute occurs because the TextBox control has been placed within a Content control, as the Page object inherits a MasterPage.\u003C\u002Fp\u003E\n\u003Cp\u003ESo how can you robustly reference the control using client-side JavaScript, regardless where the control resides?Â  Using jQuery it's fairly trivial:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Evar $firstname = $(&quot;[id$=FirstName]&quot;);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThis little snippet makes use of the jQuery attributeEndsWith selector, as documented \u003Ca href=\"https:\u002F\u002Fjquery.com\u002F#attributevalue\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehere\u003C\u002Fa\u003E.Â  Bare in mind that an array is returned, as any control with an id that ends in FirstName will be selected.\u003C\u002Fp\u003E\n"}},{"node":{"title":"JavaScript event delegation","path":"\u002Fjava-script-event-delegation\u002F","date":"18. May 2008","timeToRead":2,"description":"As I've mentioned previously I'm creating a dashboard to represent the components in the exchange that I work for. Each component widget on the page has a number of events associated with it. This has become less manageable, the more I add. So I thought about using one delegate to handle all events, and pass on a component reference, and parameters to other functions.","content":"\u003Cp\u003EA quick google led me to \u003Ca href=\"https:\u002F\u002Fblog.danwebb.net\u002F2008\u002F2\u002F8\u002Fevent-delegation-made-easy-in-jquery\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ethis article\u003C\u002Fa\u003E by \u003Ca href=\"https:\u002F\u002Fblog.danwebb.net\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EDan Webb\u003C\u002Fa\u003E. Looks like a common technique. Very useful article, though I needed to be able to pass parameters to the functions. There may be a better to way to do this, but this is how I achieved it.\u003C\u002Fp\u003E\n\u003Cp\u003EUsing jQuery (what else?!) the delegate method is called via an onClick event on the body of the document. In this case, it checks that the target of the event is a button. If any other element is clicked, nothing will happen.\u003C\u002Fp\u003E\n\u003Cp\u003EUsing jQuery (what else?!) the delegate method is called via an onClick event on the body of the document. In this case, it checks that the target of the event is a button. If any other element is clicked, nothing will happen.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E$(document).ready(function(){\n    $(&#39;body&#39;).click(function(e){\n        if (e.target.type == &#39;submit&#39; || e.target.type == &#39;button&#39;){\n            var t = $(e.target);\n            var fn = t.attr(&#39;class&#39;);\n            var p = eval(&#39;(&#39; + t.find(&#39;.params&#39;).html() + &#39;)&#39;);\n\n            window[fn].call(this, t, p);\n        }\n    });\n});\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe function that the delegate passes the parameters to, is decided by the class name of the button. You could also use this class name to style the button in any manner you wish. The parameters to pass to this function are evaluated from JSON that is stored within hidden span class called params. Example button markup:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E&lt;button class=&quot;changeLabel&quot;&gt;\n    &lt;span class=&quot;params&quot;&gt;\n        {message:&quot;Button pressed&quot;}\n    &lt;\u002Fspan&gt;\n    &lt;span class=&quot;label&quot;&gt;\n        Press me\n    &lt;\u002Fspan&gt;\n&lt;\u002Fbutton&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EI've surrounded the button label text within another span class called label. This enables me to change the label text without losing the parameters. Simple CSS is used to hide the parameter span tag:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E.params {\n    display: none;\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe way I've stored the parameters may be a little odd, and I feel I may be missing something here. I construct my dashboard dynamically using jQuery, so all the parameters are injected into each control buttons at runtime. If anyone can point out an easier solution feel free to share. Full example:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Delegate example&lt;\u002Ftitle&gt;\n    &lt;script type=&quot;text\u002Fjavascript&quot; src=&quot;\u002Fpath\u002Fto\u002Fjquery.js&quot;&gt;&lt;\u002Fscript&gt;\n    &lt;script type=&quot;text\u002Fjavascript&quot;&gt;\n    $(document).ready(function(){\n        $(&#39;body&#39;).click(function(e){\n            if (e.target.type == &#39;submit&#39; || e.target.type == &#39;button&#39;){\n                var t = $(e.target);\n                var fn = t.attr(&#39;class&#39;);\n                var p = eval(&#39;(&#39; + t.find(&#39;.params&#39;).html() + &#39;)&#39;);\n\n                window[fn].call(this, t, p);\n            }\n        });\n    });\n\n    function changeLabel(obj, params){\n        obj.find(&#39;.label&#39;).text(params.message);\n    }\n    &lt;\u002Fscript&gt;\n    &lt;style type=&quot;text\u002Fcss&quot;&gt;\n    .params {\n        display: none;\n    }\n    &lt;\u002Fstyle&gt;\n&lt;\u002Fhead&gt;\n&lt;body&gt;\n\n&lt;button class=&quot;changeLabel&quot;&gt;\n    &lt;span class=&quot;params&quot;&gt;\n        {message:&quot;Button pressed&quot;}\n    &lt;\u002Fspan&gt;\n    &lt;span class=&quot;label&quot;&gt;\n        Press me\n    &lt;\u002Fspan&gt;\n&lt;\u002Fbutton&gt;\n\n&lt;\u002Fbody&gt;\n&lt;\u002Fhtml&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n"}},{"node":{"title":"Consume .Net Web service using jQuery","path":"\u002Fconsume-net-web-service-using-j-query\u002F","date":"29. April 2008","timeToRead":3,"description":"The JavaScript functionality that is injected into .Net pages seems limited when compared to jQuery.\nWhilst looking for a way to use jQuery instead of the stock Microsoft client library, I came across an excellent article.","content":"\u003Cp\u003EThe JavaScript functionality that is injected into .Net pages seems limited when compared to jQuery.\u003C\u002Fp\u003E\n\u003Cp\u003EWhilst looking for a way to use jQuery instead of the stock Microsoft client library, I came across this \u003Ca href=\"http:\u002F\u002Fencosia.com\u002F2008\u002F03\u002F27\u002Fusing-jquery-to-consume-aspnet-json-web-services\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Eexcellent article\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThere doesn 't seem to be too much on Web about this subject. Maybe most .Net developers stick to Microsoft tools, but I like using jQuery for all my client scripting, and would rather not use more than one library. So as it look me a while to get example code working, I 've included my efforts.\u003C\u002Fp\u003E\n\u003Cp\u003EBelow is a simple .Net Web service. Once again, I 've used continents and countries as my simple dataset. Pass a continent to the service, and it will return an array of countries.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E&lt;%@ webservice Language=&quot;C#&quot; class=&quot;AndrewRowland.Continents&quot; %&gt;\n\nusing System;\nusing System.Web.Script.Services;\nusing System.Web.Services;\nusing System.Collections;\nusing System.Collections.Specialized;\n\nnamespace AndrewRowland\n{\n    [ScriptService]\n    [WebService(Namespace = &quot;AndrewRowland&quot;)]\n    [WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]\n    public class Continents\n    {\n        [WebMethod(Description=&quot;Returns array of countries for a given continent.&quot;)]\n        [ScriptMethod(ResponseFormat = ResponseFormat.Json)]\n        public string[] GetCountries(string continent)\n        {\n            Hashtable ht = new Hashtable();\n\n            ht.Add(&quot;Europe&quot;, new string[] {&quot;UK&quot;, &quot;France&quot;, &quot;Germany&quot;});\n            ht.Add(&quot;Africa&quot;, new string[] {&quot;South Africa&quot;, &quot;Zimbabwe&quot;, &quot;Cameroon&quot;});\n            ht.Add(&quot;North America&quot;, new string[] {&quot;USA&quot;, &quot;Canada&quot;});\n\n            return (string[]) ht[continent];\n        }\n    }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENote the response format, which is JSON. Originally, I omitted this, and serialized the data as a JSON string using the .Net JavaScriptSerializer class, before returning it.\u003C\u002Fp\u003E\n\u003Cp\u003EThis resulted in the client having to evaluate the returned string to build an array. By returning an array, the JSON object is instantly available in our client code, without any jiggery-pokery.\u003C\u002Fp\u003E\n\u003Cp\u003ETo enable the client to call the Web service, I had to add following in my web.config file under the system.web section:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E&lt;webServices&gt;\n    &lt;protocols&gt;\n        &lt;add name=&quot;HttpPost&quot;\u002F&gt;\n    &lt;\u002Fprotocols&gt;\n&lt;\u002FwebServices&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ESample client code that calls the .Net Web service:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;World example&lt;\u002Ftitle&gt;\n    &lt;script type=&quot;text\u002Fjavascript&quot; src=&quot;\u002Fpath\u002Fto\u002Fjquery.js&quot;&gt;&lt;\u002Fscript&gt;\n    &lt;script type=&quot;text\u002Fjavascript&quot;&gt;\n    $(document).ready(function() {\n        $(&#39;#submit&#39;).click(function() {\n            $.ajax({\n                type: &quot;POST&quot;,\n                data: &#39;{continent: &quot;&#39; + $(&#39;#txtContinent&#39;).val() + &#39;&quot;}&#39;,\n                url: &quot;\u002Fservices\u002Fexample.asmx\u002FGetCountries&quot;,\n                contentType: &quot;application\u002Fjson; charset=utf-8&quot;,\n                dataType: &quot;json&quot;,\n                success: function(response) {\n                    var data = (typeof response.d) == &#39;string&#39; ? eval(&#39;(&#39; + response.d + &#39;)&#39;) : response.d;\n\n                    $(&#39;#result&#39;).empty().append(&#39;&lt;table border=1&gt;&lt;thead&gt;&lt;tr&gt;&lt;\u002Ftr&gt;&lt;\u002Fthead&gt;&lt;tbody&gt;&lt;\u002Ftbody&gt;&lt;\u002Ftable&gt;&#39;);\n\n                    $(&#39;&lt;th\u002F&gt;&#39;).text($(&#39;#txtContinent&#39;).val()).appendTo(&#39;#result thead tr&#39;);\n\n                    for (var i = 0; i &lt; data.length; i ++) {\n                        $(&#39;&lt;tr\u002F&gt;&#39;).append($(&#39;&lt;td\u002F&gt;&#39;).text(data[i])).appendTo(&#39;#result tbody&#39;);\n                    }\n                },\n                failure: function(msg) {\n                    $(&#39;#result&#39;).empty().append(msg);\n                }\n            });\n        });\t\n    });\n    &lt;\u002Fscript&gt;\n&lt;\u002Fhead&gt;\n&lt;body&gt;\n\n&lt;p&gt;&lt;label for=&quot;txtContinent&quot;&gt;Continent&lt;\u002Flabel&gt;&lt;br \u002F&gt;\n&lt;input type=&quot;text&quot; id=&quot;txtContinent&quot; \u002F&gt; &lt;input id=&quot;submit&quot; type=&quot;button&quot; value=&quot;Submit&quot; \u002F&gt;&lt;\u002Fp&gt;\n\n&lt;div id=&quot;result&quot;&gt;&lt;\u002Fdiv&gt;\n\n&lt;\u002Fbody&gt;\n&lt;\u002Fhtml&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENote line 15:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003Evar data = (typeof response) == &#39;string&#39; ? eval(&#39;(&#39; + response + &#39;)&#39;) : response;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EI added this line so that the data object is correctly evaluated if a serialized JSON string is returned.\u003C\u002Fp\u003E\n\u003Cp\u003EThere you have it, avoid the Microsoft code bloat, with not a ScriptManager tag in sight.\u003C\u002Fp\u003E\n"}},{"node":{"title":"CodeIgniter and Ajax","path":"\u002Fcode-igniter-and-ajax\u002F","date":"27. April 2008","timeToRead":3,"description":"I've been asked to create a dashboard for many devices across our network. To display real-time information on each component, I'm thinking of using Web services, and AJAX. Like most aspects of coding, using a framework to do all the heavy lifting, rather than developing your own, is a sensible approach.\nSo today I took a look at jQuery, a JavaScript framework. I have to admit, I'm pretty impressed. It did not take me long to come up with some example code, that degrades well when JavaScript is disabled in the browser.","content":"\u003Cp\u003EI've been asked to create a dashboard for many devices across our network. To display real-time information on each component, I'm thinking of using Web services, and AJAX. Like most aspects of coding, using a framework to do all the heavy lifting, rather than developing your own, is a sensible approach.\u003C\u002Fp\u003E\n\u003Cp\u003ESo today I took a look at jQuery, a JavaScript framework. I have to admit, I'm pretty impressed. It did not take me long to come up with some example code, that degrades well when JavaScript is disabled in the browser.\u003C\u002Fp\u003E\n\u003Cp\u003EMy example app lists continents. Clicking on a continent will return a list of countries in that continent.\u003C\u002Fp\u003E\n\u003Cp\u003ECreate a CodeIgniter controller and save as \u003Cstrong\u003Eworld.php\u003C\u002Fstrong\u003E:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E&lt;?php\nclass World extends Controller {\n\n    function World()\n    {\n        parent::Controller();\n    }\n\n    function index($continent = NULL)\n    {\n        \u002F\u002F Set continents data.  In a real application we\n        \u002F\u002F would obtain this from a database via a model.\n        $data[&#39;continents&#39;] = array(\n                1 =&gt; &#39;Europe&#39;,\n                2 =&gt; &#39;Africa&#39;,\n                3 =&gt; &#39;North America&#39;,\n            );\n\n        \u002F\u002F If a non-Ajax continent selection is made, call the\n        \u002F\u002F list_countries method, and set countries data.\n        if (isset($continent))\n        {\n            $data[&#39;countries&#39;] = $this-&gt;list_countries($continent);\n        }\n\n        \u002F\u002F Load world view.\n        $this-&gt;load-&gt;view(&#39;world_view&#39;, $data);\n    }\n\n    function list_countries($continent)\n    {\n        \u002F\u002F Generated countries data.  As before, this would be\n        \u002F\u002F obtained from a model.\n        $continents = array(\n                1 =&gt; array(&#39;UK&#39;, &#39;France&#39;, &#39;Germany&#39;),\n                2 =&gt; array(&#39;South Africa&#39;, &#39;Zimbabwe&#39;, &#39;Cameroon&#39;),\n                3 =&gt; array(&#39;USA&#39;, &#39;Canada&#39;),\n            );\n\n        \u002F\u002F Decide whether to return JSON data, or an array,\n        \u002F\u002F depending if $_POST[&#39;ajax&#39;] is set.\n        if (isset($_POST[&#39;ajax&#39;]))\n        {\n            echo json_encode($continents[$continent]);\n        }\n        else\n        {\n            return $continents[$continent];\n        }\n    }\n}\n?&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ECreate a view and save as \u003Cstrong\u003Eworld_view.php\u003C\u002Fstrong\u003E:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;World example&lt;\u002Ftitle&gt;\n    &lt;script type=&quot;text\u002Fjavascript&quot; src=&quot;\u002Fjquery.js&quot;&gt;&lt;\u002Fscript&gt;\n    &lt;script type=&quot;text\u002Fjavascript&quot;&gt;\n    function list_countries(id) {\n        $(&#39;li &gt; ul&#39;).slideUp(&#39;slow&#39;);\n\n        if ($(&#39;#id_&#39; + id).children(&#39;ul&#39;).length == 0) {\n            $.post(&#39;\u002Fworld\u002Flist_countries\u002F&#39; + id, {ajax:&#39;true&#39;},\n                function(data){\n                    unorderedlist = $(&#39;&lt;ul\u002F&gt;&#39;).css(&#39;display&#39;, &#39;none&#39;);\n\n                    $.each(data, function(i, country){\n                        $(&#39;&lt;li\u002F&gt;&#39;).text(country).appendTo(unorderedlist);\n                    });\n\n                    unorderedlist.appendTo(&#39;#id_&#39; + id);\n                    unorderedlist.slideDown(&#39;slow&#39;);\n                }, &#39;json&#39;);\t\n        } else {\n            $(&#39;#id_&#39; + id + &#39; &gt; ul&#39;).slideDown(&#39;slow&#39;);\n        }\n\n        return false;\n    }\n    &lt;\u002Fscript&gt;\n&lt;\u002Fhead&gt;\n\n&lt;body&gt;\n\n&lt;ul&gt;\n    &lt;?php foreach($continents as $id =&gt; $name):?&gt;\n    &lt;li id=&quot;id_&lt;?=$id;?&gt;&quot;&gt;&lt;a onclick=&quot;return list_countries(&lt;?=$id;?&gt;);&quot; href=&quot;&lt;?=site_url(&quot;\u002Fworld\u002Findex\u002F$id&quot;);?&gt;&quot; title=&quot;Show countries in &lt;?=$name;?&gt;&quot;&gt;&lt;?=$name;?&gt;&lt;\u002Fa&gt;\n    &lt;?php if ($id == $this-&gt;uri-&gt;segment(3)):?&gt;\n    &lt;ul&gt;\n        &lt;?php foreach($countries as $country):?&gt;\n        &lt;li&gt;&lt;?=$country;?&gt;&lt;\u002Fa&gt;&lt;\u002Fli&gt;\n        &lt;?php endforeach;?&gt;\n    &lt;\u002Ful&gt;&lt;\u002Fli&gt;\n    &lt;?php endif;?&gt;\n    &lt;?php endforeach;?&gt;\n&lt;\u002Ful&gt;\n\n&lt;\u002Fbody&gt;\n&lt;\u002Fhtml&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EI just noticed that my ISP only has PHP4 installed. If this is the case for you, you will have to alter the controller to get this to work. Change the line:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E&lt;a href=&quot;http:\u002F\u002Fwww.php.net\u002Fecho&quot;&gt;echo&lt;\u002Fa&gt; json_encode($continents[$continent]);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ETo:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-text\"\u003E\u003Ccode class=\"language-text\"\u003E&lt;a href=&quot;http:\u002F\u002Fwww.php.net\u002Fecho&quot;&gt;echo&lt;\u002Fa&gt; &#39;[&quot;&#39; . &lt;a href=&quot;http:\u002F\u002Fwww.php.net\u002Fimplode&quot;&gt;implode&lt;\u002Fa&gt;(&#39;&quot;,&quot;&#39;, $continents[$continent]) . &#39;&quot;]&#39;;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EObviously this solution does not scale well for more complex data structures. I would advise using a JSON serializer library of some description. You could also create a view for the JSON structures, and pass data to that. This would actually be a sensible approach, as you would have complete control over the output.\u003C\u002Fp\u003E\n"}}]}}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.45c00927.js" defer></script><script src="/assets/js/page--src-templates-tag-vue.2a3d54c3.js" defer></script>
  </body>
</html>